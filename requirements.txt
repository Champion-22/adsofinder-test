# -*- coding: utf-8 -*-

# --- Translations ---
translations = {
    'de': {
        # === DSO Finder Keys ===
        'app_title': "Advanced DSO Finder", 
        'settings_header': "Einstellungen",
        'language_select_label': "Sprache",
        'location_expander': "üìç Standort",
        'location_select_label': "Standort-Methode w√§hlen",
        'location_option_manual': "Manuell eingeben",
        'location_option_search': "Nach Name suchen",
        'location_search_label': "Ortsnamen eingeben:",
        'location_search_submit_button': "Koordinaten finden",
        'location_search_placeholder': "z.B. Berlin, Deutschland",
        'location_search_found': "Gefunden (Nominatim): {}",
        'location_search_found_fallback': "Gefunden via Fallback (ArcGIS): {}",
        'location_search_found_fallback2': "Gefunden via 2. Fallback (Photon): {}",
        'location_search_coords': "Lat: {:.4f}, Lon: {:.4f}",
        'location_search_error_not_found': "Ort nicht gefunden.",
        'location_search_error_service': "Geocoding-Dienst Fehler: {}",
        'location_search_error_timeout': "Geocoding-Dienst Zeit√ºberschreitung.",
        'location_search_error_refused': "Geocoding Verbindung abgelehnt.",
        'location_search_info_fallback': "Nominatim fehlgeschlagen, versuche Fallback-Dienst (ArcGIS)...",
        'location_search_info_fallback2': "ArcGIS fehlgeschlagen, versuche 2. Fallback-Dienst (Photon)...",
        'location_search_error_fallback_failed': "Prim√§r (Nominatim) und Fallback (ArcGIS) fehlgeschlagen: {}",
        'location_search_error_fallback2_failed': "Alle Geocoding-Dienste (Nominatim, ArcGIS, Photon) fehlgeschlagen: {}",
        'location_lat_label': "Breitengrad (¬∞N)",
        'location_lon_label': "L√§ngengrad (¬∞E)",
        'location_elev_label': "H√∂he (Meter)",
        'location_manual_display': "Manuell ({:.4f}, {:.4f})",
        'location_search_display': "Gesucht: {} ({:.4f}, {:.4f})",
        'location_error': "Standortfehler: {}",
        'location_error_fallback': "FEHLER - Fallback wird verwendet",
        'location_error_manual_none': "Manuelle Standortfelder d√ºrfen nicht leer oder ung√ºltig sein.",
        'time_expander': "‚è±Ô∏è Zeit & Zeitzone",
        'time_select_label': "Zeit w√§hlen",
        'time_option_now': "Jetzt (kommende Nacht)",
        'time_option_specific': "Spezifische Nacht",
        'time_date_select_label': "Datum ausw√§hlen:",
        'timezone_auto_set_label': "Erkannte Zeitzone:",
        'timezone_auto_fail_label': "Zeitzone:",
        'timezone_auto_fail_msg': "Zeitzone konnte nicht erkannt werden, UTC wird verwendet.",
        'timezone_error_invalid': "Ung√ºltig",
        'timezone_auto_na': "Automatische TZ nicht verf√ºgbar",
        'timezone_loc_invalid': "Standort ung√ºltig f√ºr TZ-Ermittlung",
        'filters_expander': "‚ú® Filter & Bedingungen",
        'mag_filter_header': "**Magnitude Filter**",
        'mag_filter_method_label': "Filter Methode:",
        'mag_filter_option_bortle': "Bortle Skala",
        'mag_filter_option_manual': "Manuell",
        'mag_filter_bortle_label': "Bortle Skala:",
        'mag_filter_bortle_help': "Himmelsdunkelheit: 1=Exzellent Dunkel, 9=Innenstadt-Himmel",
        'mag_filter_min_mag_label': "Min. Magnitude:",
        'mag_filter_min_mag_help': "Hellste Objektmagnitude, die eingeschlossen wird",
        'mag_filter_max_mag_label': "Max. Magnitude:",
        'mag_filter_max_mag_help': "Schw√§chste Objektmagnitude, die eingeschlossen wird",
        'mag_filter_warning_min_max': "Min. Magnitude ist gr√∂√üer als Max. Magnitude!",
        'min_alt_header': "**Objekth√∂he √ºber Horizont**",
        'min_alt_label': "Min. Objekth√∂he (¬∞):",
        'max_alt_label': "Max. Objekth√∂he (¬∞):",
        'alt_filter_warning_min_max': "Minimale H√∂he ist gr√∂√üer als maximale H√∂he!",
        'moon_warning_header': "**Mond Warnung**",
        'moon_warning_label': "Warnen wenn Mond > (% Beleuchtung):",
        'object_types_header': "**Objekttypen**",
        'object_types_error_extract': "Objekttypen konnten nicht aus dem Katalog extrahiert werden.",
        'object_types_label': "Typen filtern (leer lassen f√ºr alle):",
        'object_types_not_found': "Keine Objekttypen im Katalog gefunden.",
        'size_filter_header': "**Winkelgr√∂√üen Filter**",
        'size_filter_label': "Objektgr√∂√üe (Bogenminuten):",
        'size_filter_help': "Objekte nach ihrer scheinbaren Gr√∂√üe filtern (Hauptachse). 1 Bogenminute = 1/60 Grad.",
        'size_slider_error': "Fehler bei der Erstellung des Gr√∂√üen-Sliders.",
        'size_data_not_available': "Gr√∂√üendaten im Katalog nicht verf√ºgbar.",
        'direction_filter_header': "**Filter nach Himmelsrichtung**",
        'direction_filter_label': "Zeige Objekte mit h√∂chstem Stand in Richtung:",
        'direction_option_all': "Alle",
        'object_type_glossary_title': "Objekttyp Glossar",
        'object_type_glossary': {
            "OCl": "Offener Haufen", "GCl": "Kugelsternhaufen", "Cl+N": "Haufen + Nebel",
            "Gal": "Galaxie", "PN": "Planetarischer Nebel", "SNR": "Supernova-√úberrest",
            "Neb": "Nebel (allgemein)", "EmN": "Emissionsnebel", "RfN": "Reflexionsnebel",
            "HII": "HII-Region", "AGN": "Aktiver Galaxienkern"
        },
        'glossary_not_available': "Glossar ist nicht verf√ºgbar oder leer f√ºr die gew√§hlte Sprache.",
        'glossary_format_error': "Glossardaten haben nicht das erwartete Format.",
        'results_options_expander': "‚öôÔ∏è Ergebnisoptionen",
        'results_options_max_objects_label': "Max. Anzahl anzuzeigender Objekte:",
        'results_options_sort_method_label': "Ergebnisse sortieren nach:",
        'results_options_sort_duration': "Dauer & H√∂he",
        'results_options_sort_magnitude': "Helligkeit",
        'moon_metric_label': "Mondbeleuchtung (ca.)",
        'moon_warning_message': "Warnung: Mond ist heller ({:.0f}%) als Schwellenwert ({:.0f}%)!",
        'moon_phase_error': "Fehler bei Mondphasenberechnung: {}",
        'moon_phase_not_available': "Mondphaseninformation nicht verf√ºgbar.",
        'find_button_label': "üî≠ Beobachtbare Objekte finden",
        'search_params_header': "Suchparameter",
        'search_params_location': "üìç Standort: {}",
        'location_not_set': "Nicht festgelegt",
        'observer_creation_failed': "Erstellung des Beobachterobjekts fehlgeschlagen",
        'search_params_time': "‚è±Ô∏è Zeit: {}",
        'search_params_timezone': "üåç Zeitzone: {}",
        'search_params_time_now': "Kommende Nacht (ab {} {})",
        'search_params_time_now_utc': "Kommende Nacht (ab {} UTC)",
        'search_params_time_specific': "Nacht nach {}",
        'search_params_filter_mag': "‚ú® Filter: {}",
        'search_params_filter_mag_bortle': "Bortle {} (<= {:.1f} mag)",
        'search_params_filter_mag_manual': "Manuell ({:.1f}-{:.1f} mag)",
        'search_params_filter_alt_types': "üî≠ Filter: H√∂he {}-{}¬∞, Typen: {}",
        'search_params_filter_size': "üìê Filter: Gr√∂√üe {:.1f} - {:.1f} arcmin",
        'search_params_filter_direction': "üß≠ Filter: Himmelsrichtung bei Max: {}",
        'search_params_types_all': "Alle",
        'search_params_direction_all': "Alle",
        'spinner_searching': "Berechne Fenster & suche Objekte...",
        'spinner_geocoding': "Suche nach Standort...",
        'window_info_template': "Beobachtungsfenster: {} bis {} UTC (Astronomische D√§mmerung)",
        'window_already_passed': "Berechnetes Nachtfenster f√ºr 'Jetzt' ist bereits vorbei. Berechne f√ºr n√§chste Nacht.",
        'warning_window_too_short': "Beobachtungsfenster zu kurz f√ºr detaillierte Berechnung.",
        'error_no_window': "Kein g√ºltiges astronomisches Dunkelheitsfenster f√ºr das gew√§hlte Datum und den Standort gefunden.",
        'error_cannot_search': "Suche kann nicht durchgef√ºhrt werden.",
        'error_polar_night': "Astronomische Dunkelheit dauert >24h an (Polarnacht?). Fallback-Fenster wird verwendet.",
        'error_polar_day': "Keine astronomische Dunkelheit tritt ein (Polartag?). Fallback-Fenster wird verwendet.",
        'window_fallback_info': "\nFallback-Fenster wird verwendet: {} bis {} UTC",
        'window_fallback_info_short': "Fallback: {} bis {} UTC",
        'success_objects_found': "{} passende Objekte gefunden.",
        'info_showing_list_duration': "Zeige {} Objekte, sortiert nach Sichtbarkeitsdauer und Kulminationsh√∂he:",
        'info_showing_list_magnitude': "Zeige {} Objekte, sortiert nach Helligkeit (hellstes zuerst):",
        'error_search_unexpected': "Ein unerwarteter Fehler ist w√§hrend der Suche aufgetreten:",
        'error_search_no_catalog': "Suche nicht m√∂glich: Katalog fehlt.",
        'error_search_no_location': "Suche nicht m√∂glich: Standort ung√ºltig.",
        'results_list_header': "Ergebnisliste",
        'results_export_name': "Name", 'results_export_type': "Typ", 'results_export_constellation': "Sternbild",
        'results_export_mag': "Magnitude", 'results_export_size': "Gr√∂√üe (arcmin)", 'results_export_ra': "RA",
        'results_export_dec': "Dec", 'results_export_max_alt': "Max H√∂he (¬∞)", 'results_export_az_at_max': "Azimut bei Max (¬∞)",
        'results_export_direction_at_max': "Richtung bei Max", 'results_export_time_max_utc': "Zeit bei Max (UTC)",
        'results_export_time_max_local': "Zeit bei Max (Lokale TZ)", 'results_export_cont_duration': "Max Kont Dauer (h)",
        'results_expander_title': '{} ({}) - Mag: {}',
        'google_link_text': "Google", 'simbad_link_text': "SIMBAD",
        'results_coords_header': "**Details:**", 'results_constellation_label': "Sternbild:", 'results_size_label': "Gr√∂√üe (Hauptachse):",
        'results_size_value': "{:.1f} arcmin", 'results_max_alt_header': "**Max. H√∂he:**", 'results_azimuth_label': "(Azimut: {:.1f}¬∞{})",
        'azimuth_not_available': "(Azimut: N/A)",
        'results_direction_label': ", Richtung: {}", 'results_best_time_header': "**Beste Zeit (Lokale TZ):**",
        'results_cont_duration_header': "**Max. Kont. Dauer:**", 'results_duration_value': "{:.1f} Stunden",
        'graph_type_label': "Grafiktyp (f√ºr alle Grafiken):", 'graph_type_sky_path': "Himmelsbahn (Az/Alt)", 'graph_type_alt_time': "H√∂henverlauf (Alt/Zeit)",
        'results_graph_button': "üìà Grafik anzeigen", 'results_spinner_plotting': "Erstelle Grafik...", 'results_graph_error': "Grafik Fehler: {}",
        'results_graph_not_created': "Grafik konnte nicht erstellt werden.", 'results_close_graph_button': "Grafik schliessen",
        'results_save_csv_button': "üíæ Ergebnisliste als CSV speichern", 'results_csv_filename': "dso_beobachtungsliste_{}.csv", 'results_csv_export_error': "CSV Export Fehler: {}",
        'warning_no_objects_found': "Keine Objekte gefunden, die allen Kriterien f√ºr das berechnete Beobachtungsfenster entsprechen.",
        'warning_no_objects_found_filters': "Keine Objekte mit aktuellen Filtern gefunden (Vorfilterung).",
        'warning_no_objects_found_after_search': "Keine Objekte gefunden, die Ihren Kriterien entsprechen.",
        'info_initial_prompt': "Willkommen! Bitte **Koordinaten eingeben** oder **Ort suchen**, um die Objektsuche zu aktivieren.",
        'graph_altitude_label': "H√∂he (¬∞)", 'graph_azimuth_label': "Azimut (¬∞)", 'graph_min_altitude_label': "Mindesth√∂he ({:.0f}¬∞)",
        'graph_max_altitude_label': "Maximalh√∂he ({:.0f}¬∞)", 'graph_title_sky_path': "Himmelsbahn f√ºr {}", 'graph_title_alt_time': "H√∂henverlauf f√ºr {}",
        'graph_ylabel_altitude': "H√∂he (¬∞)", 'graph_xlabel_time_utc': "Zeit (UTC)",
        'graph_colorbar_label_time_utc': "Zeit (UTC)",
        'custom_target_expander': "Eigenes Ziel grafisch darstellen",
        'custom_target_ra_label': "Rektaszension (RA):", 'custom_target_dec_label': "Deklination (Dec):", 'custom_target_name_label': "Ziel-Name (Optional):",
        'custom_target_name_placeholder': "Mein Komet", 'custom_target_default_name': "Eigenes Ziel",
        'custom_target_ra_placeholder': "z.B. 10:45:03.6 oder 161.265", 'custom_target_dec_placeholder': "z.B. -16:42:58 oder -16.716",
        'custom_target_button': "Eigene Grafik erstellen", 'custom_target_error_coords': "Ung√ºltiges RA/Dec Format. Verwende HH:MM:SS.s / DD:MM:SS oder Dezimalgrad.",
        'custom_target_error_window': "Grafik kann nicht erstellt werden. Stelle sicher, dass Ort und Zeitfenster g√ºltig sind (ggf. zuerst 'Beobachtbare Objekte finden' klicken).",
        'custom_target_error_invalid_window_order': "Ung√ºltige Reihenfolge der Fensterzeiten f√ºr benutzerdefiniertes Ziel.",
        'custom_target_error_window_short': "Zeitfenster zu kurz f√ºr benutzerdefinierten Plot.",
        'custom_target_error_general': "Allgemeiner Fehler beim Plotten des benutzerdefinierten Ziels",
        'error_processing_object': "Fehler bei der Verarbeitung von {}: {}",
        'window_calc_error': "Fehler bei der Berechnung des Beobachtungsfensters: {}\n{}",
        'error_observer_type_invalid': "Ung√ºltiger Beobachtertyp f√ºr Fensterberechnung.",
        'error_twilight_calc_unexpected_polar': "Unerwarteter Fehler bei D√§mmerungsberechnung in polaren Regionen.",
        'error_twilight_calc_failed': "D√§mmerungszeiten konnten nicht berechnet werden.",
        'error_morning_before_evening_twilight': "Morgend√§mmerung vor Abendd√§mmerung - pr√ºfen Sie Datum/polare Bedingungen.",
        'error_twilight_calc_next_night_failed': "D√§mmerungsberechnung f√ºr n√§chste Nacht fehlgeschlagen.",
        'error_twilight_recalc_failed_fallback': "Neuberechnung der D√§mmerung fehlgeschlagen, Fallback aktiv.",
        'error_no_window_final_fallback': "Kein g√ºltiges Fenster, finaler Fallback verwendet.",
        'error_internal_observer_location_type': "Interner Fehler: observer_location Typ.",
        'error_internal_observing_times_type': "Interner Fehler: observing_times Typ.",
        'error_internal_min_altitude_type': "Interner Fehler: min_altitude_limit Typ.",
        'error_internal_catalog_df_type': "Interner Fehler: catalog_df Typ.",
        'warning_obs_window_too_few_points': "Beobachtungsfenster hat weniger als 2 Zeitpunkte.",
        'unknown_type_placeholder': "Unbekannt",
        'constellation_not_available': "N/A",
        'plot_error_invalid_data_type': "Plot Fehler: Ung√ºltiger Datentyp.",
        'plot_default_object_name': "Objekt",
        'plot_error_invalid_times_data': "Plot Fehler: Ung√ºltige Zeitdaten.",
        'plot_error_invalid_altitudes_data': "Plot Fehler: Ung√ºltige H√∂hendaten.",
        'plot_error_invalid_azimuths_data_sky_path': "Plot Fehler: Azimutdaten f√ºr Himmelsbahn ben√∂tigt.",
        'plot_error_data_array_length_mismatch': "Plot Fehler: Datenarray-L√§ngen stimmen nicht √ºberein.",
        'plot_info_no_data_to_plot': "Plot Info: Keine Datenpunkte zum Plotten vorhanden.",
        'plot_error_azimuths_missing_sky_path_final': "Plot Fehler: Azimutdaten fehlen f√ºr Himmelsbahn.",
        'plot_error_unknown_plot_type': "Plot Fehler: Unbekannter Plot-Typ '{}'.",
        'plot_error_unexpected': "Plot Fehler: Unerwartet: {}",
        'error_loading_catalog_file_not_found': "Fehler: Katalogdatei nicht gefunden: {}",
        'error_missing_catalog_columns': "Fehler: Katalog fehlende Spalten: {}",
        'error_no_usable_magnitude_column': "Fehler: Keine Magnitude Spalte: {}",
        'warning_size_column_missing': "Warnung: Gr√∂√üen-Spalte '{}' fehlt.",
        'warning_size_column_no_valid_data': "Warnung: Gr√∂√üen-Spalte '{}' ohne Daten.",
        'error_type_column_missing_critical': "Kritischer Fehler: 'Type' Spalte fehlt.",
        'warning_catalog_empty_after_filters': "Warnung: Katalog leer nach Filterung.",
        'error_catalog_empty_data': "Fehler: Katalogdatei ist leer.",
        'error_loading_catalog_generic': "Katalog Ladefehler: {}",
        'error_catalog_failed': "Katalogfehler.",
        'donation_text': "Gef√§llt dir der DSO Finder? [Unterst√ºtze die Entwicklung auf Ko-fi ‚òï](https://ko-fi.com/advanceddsofinder)", # Beibehalten f√ºr Fallback/Kontext
        'donation_url': "https://ko-fi.com/advanceddsofinder", # Expliziter Schl√ºssel f√ºr URL
        'donation_button_text': "Unterst√ºtze auf Ko-fi", # Text f√ºr den st.link_button
        'bug_report_button': "üêû Fehler melden",
        'bug_report_subject': "Fehlerbericht: Advanced DSO Finder", # F√ºr mailto Link
        'bug_report_body': "\n\n(Bitte beschreiben Sie den Fehler und die Schritte zur Reproduktion)",
        'thousands_separator': " ", # Tausendertrennzeichen f√ºr Deutsch

        # === Redshift Calculator Keys (Updated & New) ===
        'redshift_calculator_title': "Rotverschiebungs-Rechner",
        'input_params': "Eingabeparameter",
        'redshift_z': "Rotverschiebung (z)",
        'redshift_z_tooltip': "Kosmologische Rotverschiebung (negativ f√ºr Blauverschiebung).",
        'cosmo_params': "Kosmologische Parameter",
        'hubble_h0': "Hubble-Konstante (H‚ÇÄ) [km/s/Mpc]",
        'omega_m': "Materiedichte (Œ©m)",
        'omega_lambda': "Dunkle Energiedichte (Œ©Œõ)",
        'non_flat_universe_info': "Hinweis: Œ©m + Œ©Œõ = {sum_omega:.3f}. Dies impliziert ein nicht-flaches Universum (Œ©k = {omega_k:.3f}). Berechnungen verwenden diese Geometrie.",
        'flat_universe_assumed': "Annahme eines flachen Universums (Œ©k ‚âà 0).",
        'results_for': "Ergebnisse f√ºr z = {z:.5f}",
        'recessional_velocity': "Fluchtgeschwindigkeit",
        'unit_km_s': "km/s",
        'velocity_positive_caption': "Positiv: Objekt entfernt sich (Rotverschiebung)",
        'velocity_negative_caption': "Negativ: Objekt n√§hert sich (Blauverschiebung)",
        'velocity_zero_caption': "Keine signifikante kosmologische Relativbewegung",
        'lookback_time': "R√ºckblickzeit (Lookback Time)",
        'unit_Gyr': "Gyr (Milliarden Jahre)",
        'cosmo_distances': "Kosmologische Distanzen",
        'comoving_distance_title': "**Mitbewegte Distanz:**",
        'unit_Mpc': "Mpc",
        'unit_Gly': "Gly (Milliarden Lichtjahre)",
        'comoving_other_units_expander': "Weitere Einheiten (Mitbewegt)",
        'unit_km_full': "km",
        'unit_LJ': "Lj",
        'unit_AE': "AE",
        'unit_Ls': "Ls",
        'luminosity_distance_title': "**Leuchtkraftdistanz:**",
        'explanation_luminosity': "Relevant f√ºr Helligkeit: Objekte erscheinen bei dieser Distanz so hell wie erwartet (wichtig f√ºr Standardkerzen).",
        'angular_diameter_distance_title': "**Winkeldurchmesserdistanz:**",
        'explanation_angular': "Relevant f√ºr Gr√∂√üe: Objekte haben bei dieser Distanz die erwartete scheinbare Gr√∂√üe (wichtig f√ºr Standardlineale).",
        'calculation_note': "Berechnung basiert auf dem ŒõCDM-Modell. F√ºr nicht-flache Modelle wird Œ©k aus Œ©m und Œ©Œõ abgeleitet.",
        'error_invalid_input': "Ung√ºltige Eingabe. Bitte Zahlen verwenden.",
        'error_h0_positive': "Hubble-Konstante muss positiv sein.",
        'error_omega_negative': "Omega-Parameter d√ºrfen nicht negativ sein.",
        'error_redshift_too_negative': "Rotverschiebung z={z} ist physikalisch nicht sinnvoll (< -1).",
        'warn_blueshift': "Warnung: Rotverschiebung ist negativ (Blauverschiebung). Kosmologische Distanzen sind hier 0 oder nicht direkt anwendbar.",
        'warn_integration_accuracy': "Warnung: Relative Integrationsgenauigkeit m√∂glicherweise nicht erreicht (Fehler: DC={err_dc}, LT={err_lt}).",
        'error_dep_scipy': "Abh√§ngigkeit 'scipy' nicht gefunden. Bitte installieren.",
        'error_calc_failed': "Berechnung fehlgeschlagen: {e}",
        'example_lookback_recent': "Nahezu Gegenwart (kosmologisch).",
        'example_lookback_humans': "Entwicklung des modernen Menschen (~0.2-0.3 Mio. Jahre).",
        'example_lookback_dinos_extinction': "Aussterben der Dinosaurier (~66 Mio. Jahre).",
        'example_lookback_multicellular': "Kambrische Explosion, Entstehung komplexen Lebens (~540 Mio. Jahre).",
        'example_lookback_earth_formation': "Entstehung der Erde (~4.5 Mrd. Jahre).",
        'example_lookback_early_universe_galaxies': "Bildung erster Galaxien nach dem Dunklen Zeitalter.",
        'example_lookback_very_early_universe': "Sehr fr√ºhes Universum, nahe am Urknall / CMB.",
        'example_comoving_local_group': "Innerhalb der Lokalen Gruppe (z.B. Andromeda-Galaxie).",
        'example_comoving_virgo_cluster': "Entfernung zum Virgo-Galaxienhaufen.",
        'example_comoving_coma_cluster': "Entfernung zum Coma-Galaxienhaufen.",
        'example_comoving_laniakea_supercluster': "Durchmesser des Laniakea Superhaufens.",
        'example_comoving_large_scale_structure': "Skala von kosmischen Filamenten und Voids.",
        'example_comoving_distant_quasars': "Typische Entfernung zu sehr weit entfernten Quasaren.",
        'example_comoving_observable_universe_horizon': "Bis zum Horizont des beobachtbaren Universums.",
    },
    'en': {
        # === DSO Finder Keys ===
        'app_title': "Advanced DSO Finder",
        'settings_header': "Settings", 'language_select_label': "Language", 'location_expander': "üìç Location",
        'location_select_label': "Select Location Method", 'location_option_manual': "Enter Manually", 'location_option_search': "Search by Name",
        'location_search_label': "Enter location name:", 'location_search_submit_button': "Find Coordinates", 'location_search_placeholder': "e.g., London, UK",
        'location_search_found': "Found (Nominatim): {}", 'location_search_found_fallback': "Found via Fallback (ArcGIS): {}", 'location_search_found_fallback2': "Found via 2nd Fallback (Photon): {}",
        'location_search_coords': "Lat: {:.4f}, Lon: {:.4f}", 'location_search_error_not_found': "Location not found.", 'location_search_error_service': "Geocoding service error: {}",
        'location_search_error_timeout': "Geocoding service timed out.", 'location_search_error_refused': "Geocoding connection refused.", 'location_search_info_fallback': "Nominatim failed, trying fallback service (ArcGIS)...",
        'location_search_info_fallback2': "ArcGIS failed, trying 2nd fallback service (Photon)...", 'location_search_error_fallback_failed': "Primary (Nominatim) and fallback (ArcGIS) failed: {}",
        'location_search_error_fallback2_failed': "All geocoding services (Nominatim, ArcGIS, Photon) failed: {}", 'location_lat_label': "Latitude (¬∞N)", 'location_lon_label': "Longitude (¬∞E)",
        'location_elev_label': "Elevation (meters)", 'location_manual_display': "Manual ({:.4f}, {:.4f})", 'location_search_display': "Searched: {} ({:.4f}, {:.4f})", 'location_error': "Location Error: {}",
        'location_error_fallback': "ERROR - Fallback used", 'location_error_manual_none': "Manual location fields cannot be empty or invalid.", 'time_expander': "‚è±Ô∏è Time & Timezone",
        'time_select_label': "Select Time", 'time_option_now': "Now (Upcoming Night)", 'time_option_specific': "Specific Night", 'time_date_select_label': "Select Date:",
        'timezone_auto_set_label': "Detected Timezone:", 'timezone_auto_fail_label': "Timezone:", 'timezone_auto_fail_msg': "Could not detect timezone, using UTC.",
        'timezone_error_invalid': "Invalid", 'timezone_auto_na': "Auto TZ N/A", 'timezone_loc_invalid': "Location invalid for TZ",
        'filters_expander': "‚ú® Filters & Conditions", 'mag_filter_header': "**Magnitude Filter**", 'mag_filter_method_label': "Filter Method:", 'mag_filter_option_bortle': "Bortle Scale",
        'mag_filter_option_manual': "Manual", 'mag_filter_bortle_label': "Bortle Scale:", 'mag_filter_bortle_help': "Sky darkness: 1=Excellent Dark, 9=Inner-city Sky",
        'mag_filter_min_mag_label': "Min. Magnitude:", 'mag_filter_min_mag_help': "Brightest object magnitude to include", 'mag_filter_max_mag_label': "Max. Magnitude:",
        'mag_filter_max_mag_help': "Dimest object magnitude to include", 'mag_filter_warning_min_max': "Min. Magnitude is greater than Max. Magnitude!",
        'min_alt_header': "**Object Altitude Above Horizon**", 'min_alt_label': "Min. Object Altitude (¬∞):", 'max_alt_label': "Max. Object Altitude (¬∞):", 'alt_filter_warning_min_max': "Minimum altitude is greater than maximum altitude!",
        'moon_warning_header': "**Moon Warning**", 'moon_warning_label': "Warn if Moon > (% Illumination):", 'object_types_header': "**Object Types**", 'object_types_error_extract': "Could not extract object types from catalog.",
        'object_types_label': "Filter Types (leave empty for all):", 'object_types_not_found': "No object types found in catalog.",
        'size_filter_header': "**Angular Size Filter**", 'size_filter_label': "Object Size (arcminutes):", 'size_filter_help': "Filter objects by their apparent size (major axis). 1 arcminute = 1/60 degree.",
        'size_slider_error': "Error creating size slider.", 'size_data_not_available': "Size data not available in catalog.",
        'direction_filter_header': "**Filter by Cardinal Direction**", 'direction_filter_label': "Show objects culminating towards:", 'direction_option_all': "All",
        'object_type_glossary_title': "Object Type Glossary",
        'object_type_glossary': { "OCl": "Open Cluster", "GCl": "Globular Cluster", "Cl+N": "Cluster + Nebula", "Gal": "Galaxy", "PN": "Planetary Nebula", "SNR": "Supernova Remnant", "Neb": "Nebula (general)", "EmN": "Emission Nebula", "RfN": "Reflection Nebula", "HII": "HII Region", "AGN": "Active Galactic Nucleus" },
        'glossary_not_available': "Glossary is not available or empty for the selected language.", 'glossary_format_error': "Glossary data is not in the expected format.",
        'results_options_expander': "‚öôÔ∏è Result Options", 'results_options_max_objects_label': "Max. Number of Objects to Display:", 'results_options_sort_method_label': "Sort Results By:",
        'results_options_sort_duration': "Duration & Altitude", 'results_options_sort_magnitude': "Brightness", 'moon_metric_label': "Moon Illumination (approx.)",
        'moon_warning_message': "Warning: Moon is brighter ({:.0f}%) than threshold ({:.0f}%)!", 'moon_phase_error': "Error calculating moon phase: {}", 'moon_phase_not_available': "Moon phase information not available.",
        'find_button_label': "üî≠ Find Observable Objects", 'search_params_header': "Search Parameters", 'search_params_location': "üìç Location: {}", 'location_not_set': "Not Set",
        'observer_creation_failed': "Observer object creation failed", 'search_params_time': "‚è±Ô∏è Time: {}", 'search_params_timezone': "üåç Timezone: {}",
        'search_params_time_now': "Upcoming Night (from {} {})", 'search_params_time_now_utc': "Upcoming Night (from {} UTC)", 'search_params_time_specific': "Night after {}",
        'search_params_filter_mag': "‚ú® Filter: {}", 'search_params_filter_mag_bortle': "Bortle {} (<= {:.1f} mag)", 'search_params_filter_mag_manual': "Manual ({:.1f}-{:.1f} mag)",
        'search_params_filter_alt_types': "üî≠ Filter: Alt {}-{}¬∞, Types: {}", 'search_params_filter_size': "üìê Filter: Size {:.1f} - {:.1f} arcmin", 'search_params_filter_direction': "üß≠ Filter: Direction at Max: {}",
        'search_params_types_all': "All", 'search_params_direction_all': "All", 'spinner_searching': "Calculating window & searching objects...", 'spinner_geocoding': "Searching for location...",
        'window_info_template': "Observation window: {} to {} UTC (Astronomical Twilight)", 'window_already_passed': "Calculated night window for 'Now' has already passed. Calculating for next night.",
        'warning_window_too_short': "Observation window too short for detailed calculation.", 'error_no_window': "No valid astronomical darkness window found for the selected date and location.",
        'error_cannot_search': "Cannot perform search.", 'error_polar_night': "Astronomical darkness lasts >24h (Polar night?). Using fallback window.",
        'error_polar_day': "No astronomical darkness occurs (Polar day?). Using fallback window.", 'window_fallback_info': "\nUsing fallback window: {} to {} UTC", 'window_fallback_info_short': "Fallback: {} to {} UTC",
        'success_objects_found': "{} matching objects found.", 'info_showing_list_duration': "Showing {} objects, sorted by visibility duration and culmination altitude:",
        'info_showing_list_magnitude': "Showing {} objects, sorted by brightness (brightest first):", 'error_search_unexpected': "An unexpected error occurred during the search:",
        'error_search_no_catalog': "Cannot search: Catalog missing.", 'error_search_no_location': "Cannot search: Location invalid.", 'results_list_header': "Result List",
        'results_export_name': "Name", 'results_export_type': "Type", 'results_export_constellation': "Constellation", 'results_export_mag': "Magnitude", 'results_export_size': "Size (arcmin)",
        'results_export_ra': "RA", 'results_export_dec': "Dec", 'results_export_max_alt': "Max Altitude (¬∞)", 'results_export_az_at_max': "Azimuth at Max (¬∞)", 'results_export_direction_at_max': "Direction at Max",
        'results_export_time_max_utc': "Time at Max (UTC)", 'results_export_time_max_local': "Time at Max (Local TZ)", 'results_export_cont_duration': "Max Cont Duration (h)",
        'results_expander_title': '{} ({}) - Mag: {}', 'google_link_text': "Google", 'simbad_link_text': "SIMBAD", 'results_coords_header': "**Details:**", 'results_constellation_label': "Constellation:",
        'results_size_label': "Size (Major Axis):", 'results_size_value': "{:.1f} arcmin", 'results_max_alt_header': "**Max. Altitude:**", 'results_azimuth_label': "(Azimuth: {:.1f}¬∞{})",
        'azimuth_not_available': "(Azimuth: N/A)", 'results_direction_label': ", Direction: {}", 'results_best_time_header': "**Best Time (Local TZ):**",
        'results_cont_duration_header': "**Max. Cont. Duration:**", 'results_duration_value': "{:.1f} hours", 'graph_type_label': "Graph Type (for all plots):",
        'graph_type_sky_path': "Sky Path (Az/Alt)", 'graph_type_alt_time': "Altitude Plot (Alt/Time)", 'results_graph_button': "üìà Show Plot", 'results_spinner_plotting': "Creating plot...",
        'results_graph_error': "Plot Error: {}", 'results_graph_not_created': "Plot could not be created.", 'results_close_graph_button': "Close Plot", 'results_save_csv_button': "üíæ Save Result List as CSV",
        'results_csv_filename': "dso_observation_list_{}.csv", 'results_csv_export_error': "CSV Export Error: {}", 'warning_no_objects_found': "No objects found matching all criteria for the calculated observation window.",
        'warning_no_objects_found_filters': "No objects found with current filters (pre-filter).", 'warning_no_objects_found_after_search': "No objects found matching your criteria.",
        'info_initial_prompt': "Welcome! Please **Enter Coordinates** or **Search Location** to enable object search.", 'graph_altitude_label': "Altitude (¬∞)", 'graph_azimuth_label': "Azimuth (¬∞)",
        'graph_min_altitude_label': "Min Altitude ({:.0f}¬∞)", 'graph_max_altitude_label': "Max Altitude ({:.0f}¬∞)", 'graph_title_sky_path': "Sky Path for {}", 'graph_title_alt_time': "Altitude Plot for {}",
        'graph_ylabel_altitude': "Altitude (¬∞)", 'graph_xlabel_time_utc': "Time (UTC)", 'graph_colorbar_label_time_utc': "Time (UTC)",
        'custom_target_expander': "Plot Custom Target", 'custom_target_ra_label': "Right Ascension (RA):", 'custom_target_dec_label': "Declination (Dec):", 'custom_target_name_label': "Target Name (Optional):",
        'custom_target_name_placeholder': "My Comet", 'custom_target_default_name': "Custom Target", 'custom_target_ra_placeholder': "e.g., 10:45:03.6 or 161.265",
        'custom_target_dec_placeholder': "e.g., -16:42:58 or -16.716", 'custom_target_button': "Create Custom Plot", 'custom_target_error_coords': "Invalid RA/Dec format. Use HH:MM:SS.s / DD:MM:SS or decimal degrees.",
        'custom_target_error_window': "Cannot create plot. Ensure location and time window are valid (try clicking 'Find Observable Objects' first).",
        'custom_target_error_invalid_window_order': "Invalid window time order for custom target.", 'custom_target_error_window_short': "Time window too short for custom plot.",
        'custom_target_error_general': "General error plotting custom target", 'error_processing_object': "Error processing {}: {}", 'window_calc_error': "Error calculating observation window: {}\n{}",
        'error_observer_type_invalid': "Invalid observer type for window calculation.", 'error_twilight_calc_unexpected_polar': "Unexpected error in twilight calculation in polar regions.",
        'error_twilight_calc_failed': "Could not calculate twilight times.", 'error_morning_before_evening_twilight': "Morning twilight before evening - check date/polar conditions.",
        'error_twilight_calc_next_night_failed': "Twilight calculation for next night failed.", 'error_twilight_recalc_failed_fallback': "Twilight recalculation failed, fallback active.",
        'error_no_window_final_fallback': "No valid window, final fallback used.", 'error_internal_observer_location_type': "Internal Error: observer_location type.",
        'error_internal_observing_times_type': "Internal Error: observing_times type.", 'error_internal_min_altitude_type': "Internal Error: min_altitude_limit type.",
        'error_internal_catalog_df_type': "Internal Error: catalog_df type.", 'warning_obs_window_too_few_points': "Observation window has fewer than 2 time points.",
        'unknown_type_placeholder': "Unknown", 'constellation_not_available': "N/A", 'plot_error_invalid_data_type': "Plot Error: Invalid data type.", 'plot_default_object_name': "Object",
        'plot_error_invalid_times_data': "Plot Error: Invalid time data.", 'plot_error_invalid_altitudes_data': "Plot Error: Invalid altitude data.",
        'plot_error_invalid_azimuths_data_sky_path': "Plot Error: Azimuth data required for Sky Path.", 'plot_error_data_array_length_mismatch': "Plot Error: Data array lengths do not match.",
        'plot_info_no_data_to_plot': "Plot Info: No data points to plot.", 'plot_error_azimuths_missing_sky_path_final': "Plot Error: Azimuth data missing for Sky Path.",
        'plot_error_unknown_plot_type': "Plot Error: Unknown plot type '{}'.", 'plot_error_unexpected': "Plot Error: Unexpected: {}",
        'error_loading_catalog_file_not_found': "Error: Catalog file not found: {}", 'error_missing_catalog_columns': "Error: Catalog missing columns: {}",
        'error_no_usable_magnitude_column': "Error: No usable magnitude column: {}", 'warning_size_column_missing': "Warning: Size column '{}' missing.",
        'warning_size_column_no_valid_data': "Warning: Size column '{}' no valid data.", 'error_type_column_missing_critical': "Critical Error: 'Type' column missing.",
        'warning_catalog_empty_after_filters': "Warning: Catalog empty after filtering.", 'error_catalog_empty_data': "Error: Catalog file is empty.",
        'error_loading_catalog_generic': "Catalog loading error: {}", 'error_catalog_failed': "Catalog error.",
        'donation_text': "Like the DSO Finder? [Support the development on Ko-fi ‚òï](https://ko-fi.com/advanceddsofinder)", # Fallback/context
        'donation_url': "https://ko-fi.com/advanceddsofinder", # Explicit key for URL
        'donation_button_text': "Support on Ko-fi", # Text for st.link_button
        'bug_report_button': "üêû Report Bug",
        'bug_report_subject': "Bug Report: Advanced DSO Finder", # For mailto link
        'bug_report_body': "\n\n(Please describe the bug and the steps to reproduce it)",
        'thousands_separator': ",", # Thousands separator for English

        # === Redshift Calculator Keys (Updated & New) ===
        'redshift_calculator_title': "Redshift Calculator",
        'input_params': "Input Parameters",
        'redshift_z': "Redshift (z)",
        'redshift_z_tooltip': "Cosmological redshift (negative for blueshift).",
        'cosmo_params': "Cosmological Parameters",
        'hubble_h0': "Hubble Constant (H‚ÇÄ) [km/s/Mpc]",
        'omega_m': "Matter Density (Œ©m)",
        'omega_lambda': "Dark Energy Density (Œ©Œõ)",
        'non_flat_universe_info': "Note: Œ©m + Œ©Œõ = {sum_omega:.3f}. This implies a non-flat universe (Œ©k = {omega_k:.3f}). Calculations will use this geometry.",
        'flat_universe_assumed': "Assuming a flat universe (Œ©k ‚âà 0).",
        'results_for': "Results for z = {z:.5f}",
        'recessional_velocity': "Recessional Velocity",
        'unit_km_s': "km/s",
        'velocity_positive_caption': "Positive: Object is receding (redshift)",
        'velocity_negative_caption': "Negative: Object is approaching (blueshift)",
        'velocity_zero_caption': "No significant cosmological relative motion",
        'lookback_time': "Lookback Time",
        'unit_Gyr': "Gyr (Billion Years)",
        'cosmo_distances': "Cosmological Distances",
        'comoving_distance_title': "**Comoving Distance:**",
        'unit_Mpc': "Mpc",
        'unit_Gly': "Gly (Billion Lightyears)",
        'comoving_other_units_expander': "Other Units (Comoving)",
        'unit_km_full': "km",
        'unit_LJ': "ly",
        'unit_AE': "AU",
        'unit_Ls': "Ls",
        'luminosity_distance_title': "**Luminosity Distance:**",
        'explanation_luminosity': "Relevant for brightness: Objects appear as bright as expected at this distance (important for standard candles).",
        'angular_diameter_distance_title': "**Angular Diameter Distance:**",
        'explanation_angular': "Relevant for size: Objects have the expected apparent size at this distance (important for standard rulers).",
        'calculation_note': "Calculation based on the ŒõCDM model. For non-flat models, Œ©k is derived from Œ©m and Œ©Œõ.",
        'error_invalid_input': "Invalid input. Please use numbers.",
        'error_h0_positive': "Hubble constant must be positive.",
        'error_omega_negative': "Omega parameters cannot be negative.",
        'error_redshift_too_negative': "Redshift z={z} is physically implausible (< -1).",
        'warn_blueshift': "Warning: Redshift is negative (Blueshift). Cosmological distances are 0 or not directly applicable here.",
        'warn_integration_accuracy': "Warning: Relative integration accuracy might not be achieved (Error: DC={err_dc}, LT={err_lt}).",
        'error_dep_scipy': "Dependency 'scipy' not found. Please install.",
        'error_calc_failed': "Calculation failed: {e}",
        'example_lookback_recent': "Almost present day (cosmologically).",
        'example_lookback_humans': "Evolution of modern humans (~0.2-0.3 Myr ago).",
        'example_lookback_dinos_extinction': "Extinction of dinosaurs (~66 Myr ago).",
        'example_lookback_multicellular': "Cambrian explosion, emergence of complex life (~540 Myr ago).",
        'example_lookback_earth_formation': "Formation of Earth (~4.5 Gyr ago).",
        'example_lookback_early_universe_galaxies': "Formation of first galaxies after the Dark Ages.",
        'example_lookback_very_early_universe': "Very early universe, approaching Big Bang / CMB.",
        'example_comoving_local_group': "Within the Local Group (e.g., Andromeda Galaxy).",
        'example_comoving_virgo_cluster': "Distance to the Virgo Cluster.",
        'example_comoving_coma_cluster': "Distance to the Coma Cluster.",
        'example_comoving_laniakea_supercluster': "Diameter of the Laniakea Supercluster.",
        'example_comoving_large_scale_structure': "Scale of cosmic filaments and voids.",
        'example_comoving_distant_quasars': "Typical distance to very distant quasars.",
        'example_comoving_observable_universe_horizon': "To the horizon of the observable universe.",
    },
    'fr': {
        # === DSO Finder Keys ===
        'app_title': "Advanced DSO Finder",
        'settings_header': "Param√®tres", 'language_select_label': "Langue", 'location_expander': "üìç Emplacement", 'location_select_label': "Choisir la m√©thode d'emplacement",
        'location_option_manual': "Saisir manuellement", 'location_option_search': "Rechercher par nom", 'location_search_label': "Entrer le nom du lieu :",
        'location_search_submit_button': "Trouver les coordonn√©es", 'location_search_placeholder': "p.ex. Paris, France", 'location_search_found': "Trouv√© (Nominatim) : {}",
        'location_search_found_fallback': "Trouv√© via fallback (ArcGIS) : {}", 'location_search_found_fallback2': "Trouv√© via 2e fallback (Photon) : {}", 'location_search_coords': "Lat : {:.4f}, Lon : {:.4f}",
        'location_search_error_not_found': "Lieu non trouv√©.", 'location_search_error_service': "Erreur du service de g√©ocodage : {}", 'location_search_error_timeout': "D√©lai d'attente du service de g√©ocodage d√©pass√©.",
        'location_search_error_refused': "Connexion de g√©ocodage refus√©e.", 'location_search_info_fallback': "√âchec de Nominatim, tentative de service de secours (ArcGIS)...",
        'location_search_info_fallback2': "√âchec d'ArcGIS, tentative de 2e service de secours (Photon)...", 'location_search_error_fallback_failed': "√âchec du service primaire (Nominatim) et de secours (ArcGIS) : {}",
        'location_search_error_fallback2_failed': "√âchec de tous les services de g√©ocodage (Nominatim, ArcGIS, Photon) : {}", 'location_lat_label': "Latitude (¬∞N)", 'location_lon_label': "Longitude (¬∞E)",
        'location_elev_label': "Altitude (m√®tres)", 'location_manual_display': "Manuel ({:.4f}, {:.4f})", 'location_search_display': "Recherch√© : {} ({:.4f}, {:.4f})", 'location_error': "Erreur d'emplacement : {}",
        'location_error_fallback': "ERREUR - Utilisation du fallback", 'location_error_manual_none': "Les champs d'emplacement manuel ne peuvent pas √™tre vides ou invalides.", 'time_expander': "‚è±Ô∏è Heure & Fuseau horaire",
        'time_select_label': "Choisir l'heure", 'time_option_now': "Maintenant (nuit prochaine)", 'time_option_specific': "Nuit sp√©cifique", 'time_date_select_label': "Choisir la date :",
        'timezone_auto_set_label': "Fuseau horaire d√©tect√© :", 'timezone_auto_fail_label': "Fuseau horaire :", 'timezone_auto_fail_msg': "Impossible de d√©tecter le fuseau horaire, UTC est utilis√©.",
        'timezone_error_invalid': "Invalide", 'timezone_auto_na': "TZ Auto N/A", 'timezone_loc_invalid': "Emplacement invalide pour TZ",
        'filters_expander': "‚ú® Filtres & Conditions", 'mag_filter_header': "**Filtre de Magnitude**", 'mag_filter_method_label': "M√©thode de filtrage :", 'mag_filter_option_bortle': "√âchelle de Bortle",
        'mag_filter_option_manual': "Manuel", 'mag_filter_bortle_label': "√âchelle de Bortle :", 'mag_filter_bortle_help': "Obscurit√© du ciel : 1=Excellent ciel noir, 9=Ciel de centre-ville",
        'mag_filter_min_mag_label': "Magnitude Min. :", 'mag_filter_min_mag_help': "Magnitude de l'objet le plus brillant √† inclure", 'mag_filter_max_mag_label': "Magnitude Max. :",
        'mag_filter_max_mag_help': "Magnitude de l'objet le plus faible √† inclure", 'mag_filter_warning_min_max': "Magnitude Min. est sup√©rieure √† la Magnitude Max. !",
        'min_alt_header': "**Altitude de l'objet au-dessus de l'horizon**", 'min_alt_label': "Altitude Min. de l'objet (¬∞) :", 'max_alt_label': "Altitude Max. de l'objet (¬∞) :", 'alt_filter_warning_min_max': "L'altitude minimale est sup√©rieure √† l'altitude maximale !",
        'moon_warning_header': "**Avertissement Lunaire**", 'moon_warning_label': "Avertir si Lune > (% Illumination) :", 'object_types_header': "**Types d'objets**", 'object_types_error_extract': "Impossible d'extraire les types d'objets du catalogue.",
        'object_types_label': "Filtrer les types (laisser vide pour tous) :", 'object_types_not_found': "Aucun type d'objet trouv√© dans le catalogue.",
        'size_filter_header': "**Filtre de Taille Angulaire**", 'size_filter_label': "Taille de l'objet (minutes d'arc) :", 'size_filter_help': "Filtrer les objets par leur taille apparente (axe majeur). 1 minute d'arc = 1/60 degr√©.",
        'size_slider_error': "Erreur lors de la cr√©ation du curseur de taille.", 'size_data_not_available': "Donn√©es de taille non disponibles dans le catalogue.",
        'direction_filter_header': "**Filtre par Direction Cardinale**", 'direction_filter_label': "Afficher les objets culminant vers :", 'direction_option_all': "Toutes",
        'object_type_glossary_title': "Glossaire des types d'objets",
        'object_type_glossary': { "OCl": "Amas Ouvert", "GCl": "Amas Globulaire", "Cl+N": "Amas + N√©buleuse", "Gal": "Galaxie", "PN": "N√©buleuse Plan√©taire", "SNR": "R√©manent de Supernova", "Neb": "N√©buleuse (g√©n√©ral)", "EmN": "N√©buleuse en √âmission", "RfN": "N√©buleuse par R√©flexion", "HII": "R√©gion HII", "AGN": "Noyau Actif de Galaxie" },
        'glossary_not_available': "Le glossaire n'est pas disponible ou est vide pour la langue s√©lectionn√©e.", 'glossary_format_error': "Les donn√©es du glossaire ne sont pas au format attendu.",
        'results_options_expander': "‚öôÔ∏è Options de R√©sultats", 'results_options_max_objects_label': "Nombre max. d'objets √† afficher :", 'results_options_sort_method_label': "Trier les r√©sultats par :",
        'results_options_sort_duration': "Dur√©e & Altitude", 'results_options_sort_magnitude': "Luminosit√©", 'moon_metric_label': "Illumination lunaire (env.)",
        'moon_warning_message': "Attention : La Lune est plus brillante ({:.0f}%) que le seuil ({:.0f}%) !", 'moon_phase_error': "Erreur lors du calcul de la phase lunaire : {}", 'moon_phase_not_available': "Information sur la phase lunaire non disponible.",
        'find_button_label': "üî≠ Trouver les objets observables", 'search_params_header': "Param√®tres de recherche", 'search_params_location': "üìç Emplacement : {}", 'location_not_set': "Non d√©fini",
        'observer_creation_failed': "La cr√©ation de l'objet observateur a √©chou√©", 'search_params_time': "‚è±Ô∏è Heure : {}", 'search_params_timezone': "üåç Fuseau horaire : {}",
        'search_params_time_now': "Nuit prochaine (√† partir de {} {})", 'search_params_time_now_utc': "Nuit prochaine (√† partir de {} UTC)", 'search_params_time_specific': "Nuit apr√®s {}",
        'search_params_filter_mag': "‚ú® Filtre : {}", 'search_params_filter_mag_bortle': "Bortle {} (<= {:.1f} mag)", 'search_params_filter_mag_manual': "Manuel ({:.1f}-{:.1f} mag)",
        'search_params_filter_alt_types': "üî≠ Filtre : Alt {}-{}¬∞, Types : {}", 'search_params_filter_size': "üìê Filtre : Taille {:.1f} - {:.1f} arcmin", 'search_params_filter_direction': "üß≠ Filtre : Direction √† l'apog√©e : {}",
        'search_params_types_all': "Tous", 'search_params_direction_all': "Toutes", 'spinner_searching': "Calcul de la fen√™tre & recherche d'objets...", 'spinner_geocoding': "Recherche de l'emplacement...",
        'window_info_template': "Fen√™tre d'observation : {} √† {} UTC (Cr√©puscule Astronomique)", 'window_already_passed': "La fen√™tre nocturne calcul√©e pour 'Maintenant' est d√©j√† pass√©e. Calcul pour la nuit suivante.",
        'warning_window_too_short': "Fen√™tre d'observation trop courte pour un calcul d√©taill√©.", 'error_no_window': "Aucune fen√™tre de noirceur astronomique valide trouv√©e pour la date et l'emplacement s√©lectionn√©s.",
        'error_cannot_search': "Impossible d'effectuer la recherche.", 'error_polar_night': "La noirceur astronomique dure >24h (Nuit polaire ?). Fen√™tre de secours utilis√©e.",
        'error_polar_day': "Aucune noirceur astronomique ne se produit (Jour polaire ?). Fen√™tre de secours utilis√©e.", 'window_fallback_info': "\nFen√™tre de secours utilis√©e : {} √† {} UTC", 'window_fallback_info_short': "Secours : {} √† {} UTC",
        'success_objects_found': "{} objets correspondants trouv√©s.", 'info_showing_list_duration': "Affichage de {} objets, tri√©s par dur√©e de visibilit√© et altitude de culmination :",
        'info_showing_list_magnitude': "Affichage de {} objets, tri√©s par luminosit√© (le plus brillant en premier) :", 'error_search_unexpected': "Une erreur inattendue s'est produite lors de la recherche :",
        'error_search_no_catalog': "Recherche impossible : Catalogue manquant.", 'error_search_no_location': "Recherche impossible : Emplacement invalide.", 'results_list_header': "Liste des r√©sultats",
        'results_export_name': "Nom", 'results_export_type': "Type", 'results_export_constellation': "Constellation", 'results_export_mag': "Magnitude", 'results_export_size': "Taille (arcmin)",
        'results_export_ra': "AD", 'results_export_dec': "Dec", 'results_export_max_alt': "Altitude Max (¬∞)", 'results_export_az_at_max': "Azimut √† l'apog√©e (¬∞)", 'results_export_direction_at_max': "Direction √† l'apog√©e",
        'results_export_time_max_utc': "Heure √† l'apog√©e (UTC)", 'results_export_time_max_local': "Heure √† l'apog√©e (Fuseau local)", 'results_export_cont_duration': "Dur√©e cont. max (h)",
        'results_expander_title': '{} ({}) - Mag : {}', 'google_link_text': "Google", 'simbad_link_text': "SIMBAD", 'results_coords_header': "**D√©tails :**", 'results_constellation_label': "Constellation :",
        'results_size_label': "Taille (axe majeur) :", 'results_size_value': "{:.1f} arcmin", 'results_max_alt_header': "**Altitude Max. :**", 'results_azimuth_label': "(Azimut : {:.1f}¬∞{})",
        'azimuth_not_available': "(Azimut : N/A)", 'results_direction_label': ", Direction : {}", 'results_best_time_header': "**Meilleure heure (Fuseau local) :**",
        'results_cont_duration_header': "**Dur√©e cont. max :**", 'results_duration_value': "{:.1f} heures", 'graph_type_label': "Type de graphique (pour tous) :",
        'graph_type_sky_path': "Trajectoire c√©leste (Az/Alt)", 'graph_type_alt_time': "Courbe d'altitude (Alt/Temps)", 'results_graph_button': "üìà Afficher le graphique", 'results_spinner_plotting': "Cr√©ation du graphique...",
        'results_graph_error': "Erreur de graphique : {}", 'results_graph_not_created': "Le graphique n'a pas pu √™tre cr√©√©.", 'results_close_graph_button': "Fermer le graphique",
        'results_save_csv_button': "üíæ Enregistrer la liste en CSV", 'results_csv_filename': "liste_observation_dso_{}.csv", 'results_csv_export_error': "Erreur d'exportation CSV : {}",
        'warning_no_objects_found': "Aucun objet trouv√© correspondant √† tous les crit√®res pour la fen√™tre d'observation calcul√©e.", 'warning_no_objects_found_filters': "Aucun objet trouv√© avec les filtres actuels (pr√©-filtre).",
        'warning_no_objects_found_after_search': "Aucun objet trouv√© correspondant √† vos crit√®res.", 'info_initial_prompt': "Bienvenue ! Veuillez **saisir les coordonn√©es** ou **rechercher un lieu** pour activer la recherche d'objets.",
        'graph_altitude_label': "Altitude (¬∞)", 'graph_azimuth_label': "Azimut (¬∞)", 'graph_min_altitude_label': "Altitude minimale ({:.0f}¬∞)", 'graph_max_altitude_label': "Altitude maximale ({:.0f}¬∞)",
        'graph_title_sky_path': "Trajectoire c√©leste pour {}", 'graph_title_alt_time': "Courbe d'altitude pour {}", 'graph_ylabel_altitude': "Altitude (¬∞)", 'graph_xlabel_time_utc': "Temps (UTC)",
        'graph_colorbar_label_time_utc': "Temps (UTC)", 'custom_target_expander': "Tracer une cible personnalis√©e", 'custom_target_ra_label': "Ascension droite (AD) :",
        'custom_target_dec_label': "D√©clinaison (Dec) :", 'custom_target_name_label': "Nom de la cible (Optionnel) :", 'custom_target_name_placeholder': "Ma Com√®te", 'custom_target_default_name': "Cible personnalis√©e",
        'custom_target_ra_placeholder': "p.ex. 10:45:03.6 ou 161.265", 'custom_target_dec_placeholder': "p.ex. -16:42:58 ou -16.716", 'custom_target_button': "Cr√©er un graphique personnalis√©",
        'custom_target_error_coords': "Format AD/Dec invalide. Utilisez HH:MM:SS.s / DD:MM:SS ou degr√©s d√©cimaux.", 'custom_target_error_window': "Impossible de cr√©er le graphique. Assurez-vous que l'emplacement et la fen√™tre temporelle sont valides (essayez d'abord de cliquer sur 'Trouver les objets observables').",
        'custom_target_error_invalid_window_order': "Ordre invalide des temps de la fen√™tre pour la cible personnalis√©e.", 'custom_target_error_window_short': "Fen√™tre temporelle trop courte pour le trac√© personnalis√©.",
        'custom_target_error_general': "Erreur g√©n√©rale lors du trac√© de la cible personnalis√©e", 'error_processing_object': "Erreur lors du traitement de {}: {}", 'window_calc_error': "Erreur lors du calcul de la fen√™tre d'observation : {}\n{}",
        'error_observer_type_invalid': "Type d'observateur invalide pour le calcul de la fen√™tre.", 'error_twilight_calc_unexpected_polar': "Erreur inattendue dans le calcul du cr√©puscule en r√©gions polaires.",
        'error_twilight_calc_failed': "Impossible de calculer les heures de cr√©puscule.", 'error_morning_before_evening_twilight': "Cr√©puscule du matin avant celui du soir - v√©rifiez date/conditions polaires.",
        'error_twilight_calc_next_night_failed': "√âchec du calcul du cr√©puscule pour la nuit suivante.", 'error_twilight_recalc_failed_fallback': "√âchec du recalcul du cr√©puscule, secours activ√©.",
        'error_no_window_final_fallback': "Pas de fen√™tre valide, secours final utilis√©.", 'error_internal_observer_location_type': "Erreur interne : type observer_location.",
        'error_internal_observing_times_type': "Erreur interne : type observing_times.", 'error_internal_min_altitude_type': "Erreur interne : type min_altitude_limit.",
        'error_internal_catalog_df_type': "Erreur interne : type catalog_df.", 'warning_obs_window_too_few_points': "La fen√™tre d'observation a moins de 2 points temporels.",
        'unknown_type_placeholder': "Inconnu", 'constellation_not_available': "N/A", 'plot_error_invalid_data_type': "Erreur de trac√© : Type de donn√©es invalide.", 'plot_default_object_name': "Objet",
        'plot_error_invalid_times_data': "Erreur de trac√© : Donn√©es temporelles invalides.", 'plot_error_invalid_altitudes_data': "Erreur de trac√© : Donn√©es d'altitude invalides.",
        'plot_error_invalid_azimuths_data_sky_path': "Erreur de trac√© : Donn√©es d'azimut requises pour Trajectoire c√©leste.", 'plot_error_data_array_length_mismatch': "Erreur de trac√© : Les longueurs des tableaux de donn√©es ne correspondent pas.",
        'plot_info_no_data_to_plot': "Info trac√© : Aucun point de donn√©es √† tracer.", 'plot_error_azimuths_missing_sky_path_final': "Erreur de trac√© : Donn√©es d'azimut manquantes pour Trajectoire c√©leste.",
        'plot_error_unknown_plot_type': "Erreur de trac√© : Type de trac√© '{}' inconnu.", 'plot_error_unexpected': "Erreur de trac√© : Inattendue : {}",
        'error_loading_catalog_file_not_found': "Erreur : Fichier catalogue non trouv√© : {}", 'error_missing_catalog_columns': "Erreur : Colonnes manquantes dans le catalogue : {}",
        'error_no_usable_magnitude_column': "Erreur : Aucune colonne de magnitude utilisable : {}", 'warning_size_column_missing': "Avertissement : Colonne de taille '{}' manquante.",
        'warning_size_column_no_valid_data': "Avertissement : Colonne de taille '{}' sans donn√©es valides.", 'error_type_column_missing_critical': "Erreur critique : Colonne 'Type' manquante.",
        'warning_catalog_empty_after_filters': "Avertissement : Catalogue vide apr√®s filtrage.", 'error_catalog_empty_data': "Erreur : Le fichier catalogue est vide.",
        'error_loading_catalog_generic': "Erreur de chargement du catalogue : {}", 'error_catalog_failed': "Erreur de catalogue.",
        'donation_text': "Vous aimez l'application DSO Finder ? [Soutenez le d√©veloppement sur Ko-fi ‚òï](https://ko-fi.com/advanceddsofinder)", # Fallback/context
        'donation_url': "https://ko-fi.com/advanceddsofinder", # Explicit key for URL
        'donation_button_text': "Soutenir sur Ko-fi", # Text for st.link_button
        'bug_report_button': "üêû Signaler un bug",
        'bug_report_subject': "Rapport de bug: Advanced DSO Finder", # For mailto link
        'bug_report_body': "\n\n(Veuillez d√©crire le bug et les √©tapes pour le reproduire)",
        'thousands_separator': " ", # Thousands separator for French

        # === Redshift Calculator Keys (Updated & New) ===
        'redshift_calculator_title': "Calculateur de D√©calage vers le Rouge",
        'input_params': "Param√®tres d'Entr√©e",
        'redshift_z': "D√©calage vers le Rouge (z)",
        'redshift_z_tooltip': "D√©calage cosmologique vers le rouge (n√©gatif pour d√©calage vers le bleu).",
        'cosmo_params': "Param√®tres Cosmologiques",
        'hubble_h0': "Constante de Hubble (H‚ÇÄ) [km/s/Mpc]",
        'omega_m': "Densit√© de Mati√®re (Œ©m)",
        'omega_lambda': "Densit√© d'√ânergie Noire (Œ©Œõ)",
        'non_flat_universe_info': "Note : Œ©m + Œ©Œõ = {sum_omega:.3f}. Ceci implique un univers non plat (Œ©k = {omega_k:.3f}). Les calculs utiliseront cette g√©om√©trie.",
        'flat_universe_assumed': "Hypoth√®se d'un univers plat (Œ©k ‚âà 0).",
        'results_for': "R√©sultats pour z = {z:.5f}",
        'recessional_velocity': "Vitesse de R√©cession",
        'unit_km_s': "km/s",
        'velocity_positive_caption': "Positif : L'objet s'√©loigne (d√©calage vers le rouge)",
        'velocity_negative_caption': "N√©gatif : L'objet s'approche (d√©calage vers le bleu)",
        'velocity_zero_caption': "Aucun mouvement cosmologique relatif significatif",
        'lookback_time': "Temps de Regard en Arri√®re",
        'unit_Gyr': "Ga (Milliards d'ann√©es)",
        'cosmo_distances': "Distances Cosmologiques",
        'comoving_distance_title': "**Distance Comobile :**",
        'unit_Mpc': "Mpc",
        'unit_Gly': "Gal (Milliards d'ann√©es-lumi√®re)",
        'comoving_other_units_expander': "Autres Unit√©s (Comobile)",
        'unit_km_full': "km",
        'unit_LJ': "al",
        'unit_AE': "UA",
        'unit_Ls': "sl",
        'luminosity_distance_title': "**Distance de Luminosit√© :**",
        'explanation_luminosity': "Pertinent pour la luminosit√© : les objets apparaissent aussi brillants que pr√©vu √† cette distance (important pour les chandelles standard).",
        'angular_diameter_distance_title': "**Distance de Diam√®tre Angulaire :**",
        'explanation_angular': "Pertinent pour la taille : les objets ont la taille apparente attendue √† cette distance (important pour les r√®gles standard).",
        'calculation_note': "Calcul bas√© sur le mod√®le ŒõCDM. Pour les mod√®les non plats, Œ©k est d√©riv√© de Œ©m et Œ©Œõ.",
        'error_invalid_input': "Entr√©e invalide. Veuillez utiliser des chiffres.",
        'error_h0_positive': "La constante de Hubble doit √™tre positive.",
        'error_omega_negative': "Les param√®tres Omega ne peuvent pas √™tre n√©gatifs.",
        'error_redshift_too_negative': "Le d√©calage z={z} est physiquement invraisemblable (< -1).",
        'warn_blueshift': "Avertissement : D√©calage vers le rouge n√©gatif (Blueshift). Les distances cosmologiques sont 0 ou non directement applicables ici.",
        'warn_integration_accuracy': "Avertissement : La pr√©cision relative de l'int√©gration pourrait ne pas √™tre atteinte (Erreur : DC={err_dc}, LT={err_lt}).",
        'error_dep_scipy': "D√©pendance 'scipy' introuvable. Veuillez l'installer.",
        'error_calc_failed': "Le calcul a √©chou√© : {e}",
        'example_lookback_recent': "Presque aujourd'hui (cosmologiquement).",
        'example_lookback_humans': "√âvolution des humains modernes (~0.2-0.3 Ma avant).",
        'example_lookback_dinos_extinction': "Extinction des dinosaures (~66 Ma avant).",
        'example_lookback_multicellular': "Explosion cambrienne, apparition de la vie complexe (~540 Ma avant).",
        'example_lookback_earth_formation': "Formation de la Terre (~4.5 Ga avant).",
        'example_lookback_early_universe_galaxies': "Formation des premi√®res galaxies apr√®s les √Çges Sombres.",
        'example_lookback_very_early_universe': "Univers tr√®s primordial, proche du Big Bang / FDC.",
        'example_comoving_local_group': "Au sein du Groupe Local (ex : Galaxie d'Androm√®de).",
        'example_comoving_virgo_cluster': "Distance de l'Amas de la Vierge.",
        'example_comoving_coma_cluster': "Distance de l'Amas de Coma.",
        'example_comoving_laniakea_supercluster': "Diam√®tre du Superamas de Laniakea.",
        'example_comoving_large_scale_structure': "√âchelle des filaments et vides cosmiques.",
        'example_comoving_distant_quasars': "Distance typique des quasars tr√®s lointains.",
        'example_comoving_observable_universe_horizon': "Jusqu'√† l'horizon de l'univers observable.",
    },
}

DEFAULT_LANG = 'de' # Standardm√§√üig Deutsch

# Die `translations`-Variable ist nun das Haupt-Dictionary, das alle Sprachen enth√§lt.
# Die `get_translation`-Funktion greift auf dieses Dictionary zu.

def get_translation(lang: str) -> dict:
    """
    Gibt das √úbersetzungs-Dictionary f√ºr die angegebene Sprache zur√ºck.
    F√§llt auf die Standardsprache zur√ºck, wenn die angegebene Sprache nicht existiert.

    Args:
        lang (str): Der Sprachcode (z.B. 'de', 'en', 'fr').

    Returns:
        dict: Das Dictionary mit den √úbersetzungen f√ºr die gew√§hlte Sprache.
    """
    lang_lower = lang.lower()
    return translations.get(lang_lower, translations[DEFAULT_LANG])
