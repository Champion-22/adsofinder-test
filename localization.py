# -*- coding: utf-8 -*-

# --- Translations ---
translations = {
    'de': {
        # ... (Deutscher Block - unver√§ndert) ...
        'settings_header': "Einstellungen",
        'language_select_label': "Sprache",
        'location_expander': "üìç Standort",
        'location_select_label': "Standort-Methode w√§hlen",
        'location_option_manual': "Manuell eingeben",
        'location_option_search': "Nach Name suchen",
        'location_search_label': "Ortsnamen eingeben:",
        'location_search_submit_button': "Koordinaten finden",
        'location_search_placeholder': "z.B. Berlin, Deutschland",
        'location_search_found': "Gefunden (Nominatim): {}",
        'location_search_found_fallback': "Gefunden via Fallback (ArcGIS): {}",
        'location_search_found_fallback2': "Gefunden via 2. Fallback (Photon): {}",
        'location_search_coords': "Lat: {:.4f}, Lon: {:.4f}",
        'location_search_error_not_found': "Ort nicht gefunden.",
        'location_search_error_service': "Geocoding-Dienst Fehler: {}",
        'location_search_error_timeout': "Geocoding-Dienst Zeit√ºberschreitung.",
        'location_search_error_refused': "Geocoding Verbindung abgelehnt.",
        'location_search_info_fallback': "Nominatim fehlgeschlagen, versuche Fallback-Dienst (ArcGIS)...",
        'location_search_info_fallback2': "ArcGIS fehlgeschlagen, versuche 2. Fallback-Dienst (Photon)...",
        'location_search_error_fallback_failed': "Prim√§r (Nominatim) und Fallback (ArcGIS) fehlgeschlagen: {}",
        'location_search_error_fallback2_failed': "Alle Geocoding-Dienste (Nominatim, ArcGIS, Photon) fehlgeschlagen: {}",
        'location_lat_label': "Breitengrad (¬∞N)",
        'location_lon_label': "L√§ngengrad (¬∞E)",
        'location_elev_label': "H√∂he (Meter)",
        'location_manual_display': "Manuell ({:.4f}, {:.4f})",
        'location_search_display': "Gesucht: {} ({:.4f}, {:.4f})",
        'location_error': "Standortfehler: {}",
        'location_error_fallback': "FEHLER - Fallback wird verwendet",
        'location_error_manual_none': "Manuelle Standortfelder d√ºrfen nicht leer oder ung√ºltig sein.",
        'time_expander': "‚è±Ô∏è Zeit & Zeitzone",
        'time_select_label': "Zeit w√§hlen",
        'time_option_now': "Jetzt (kommende Nacht)",
        'time_option_specific': "Spezifische Nacht",
        'time_date_select_label': "Datum ausw√§hlen:",
        'timezone_auto_set_label': "Erkannte Zeitzone:",
        'timezone_auto_fail_label': "Zeitzone:",
        'timezone_auto_fail_msg': "Zeitzone konnte nicht erkannt werden, UTC wird verwendet.",
        'filters_expander': "‚ú® Filter & Bedingungen",
        'mag_filter_header': "**Magnitude Filter**",
        'mag_filter_method_label': "Filter Methode:",
        'mag_filter_option_bortle': "Bortle Skala",
        'mag_filter_option_manual': "Manuell",
        'mag_filter_bortle_label': "Bortle Skala:",
        'mag_filter_bortle_help': "Himmelsdunkelheit: 1=Exzellent Dunkel, 9=Innenstadt-Himmel",
        'mag_filter_min_mag_label': "Min. Magnitude:",
        'mag_filter_min_mag_help': "Hellste Objektmagnitude, die eingeschlossen wird",
        'mag_filter_max_mag_label': "Max. Magnitude:",
        'mag_filter_max_mag_help': "Schw√§chste Objektmagnitude, die eingeschlossen wird",
        'mag_filter_warning_min_max': "Min. Magnitude ist gr√∂√üer als Max. Magnitude!",
        'min_alt_header': "**Objekth√∂he √ºber Horizont**",
        'min_alt_label': "Min. Objekth√∂he (¬∞):",
        'max_alt_label': "Max. Objekth√∂he (¬∞):",
        'moon_warning_header': "**Mond Warnung**",
        'moon_warning_label': "Warnen wenn Mond > (% Beleuchtung):",
        'object_types_header': "**Objekttypen**",
        'object_types_error_extract': "Objekttypen konnten nicht aus dem Katalog extrahiert werden.",
        'object_types_label': "Typen filtern (leer lassen f√ºr alle):",
        'size_filter_header': "**Winkelgr√∂√üen Filter**",
        'size_filter_label': "Objektgr√∂√üe (Bogenminuten):",
        'size_filter_help': "Objekte nach ihrer scheinbaren Gr√∂√üe filtern (Hauptachse). 1 Bogenminute = 1/60 Grad.",
        'direction_filter_header': "**Filter nach Himmelsrichtung**",
        'direction_filter_label': "Zeige Objekte mit h√∂chstem Stand in Richtung:",
        'direction_option_all': "Alle",
        'object_type_glossary_title': "Objekttyp Glossar",
        'object_type_glossary': {
            "OCl": "Offener Haufen", "GCl": "Kugelsternhaufen", "Cl+N": "Haufen + Nebel",
            "Gal": "Galaxie", "PN": "Planetarischer Nebel", "SNR": "Supernova-√úberrest",
            "Neb": "Nebel (allgemein)", "EmN": "Emissionsnebel", "RfN": "Reflexionsnebel",
            "HII": "HII-Region", "AGN": "Aktiver Galaxienkern"
        },
        'results_options_expander': "‚öôÔ∏è Ergebnisoptionen",
        'results_options_max_objects_label': "Max. Anzahl anzuzeigender Objekte:",
        'results_options_sort_method_label': "Ergebnisse sortieren nach:",
        'results_options_sort_duration': "Dauer & H√∂he",
        'results_options_sort_magnitude': "Helligkeit",
        'moon_metric_label': "Mondbeleuchtung (ca.)",
        'moon_warning_message': "Warnung: Mond ist heller ({:.0f}%) als Schwellenwert ({:.0f}%)!",
        'moon_phase_error': "Fehler bei Mondphasenberechnung: {}",
        'find_button_label': "üî≠ Beobachtbare Objekte finden",
        'search_params_header': "Suchparameter",
        'search_params_location': "üìç Standort: {}",
        'search_params_time': "‚è±Ô∏è Zeit: {}",
        'search_params_timezone': "üåç Zeitzone: {}", # Removed from main display
        'search_params_time_now': "Kommende Nacht (ab {} UTC)",
        'search_params_time_specific': "Nacht nach {}",
        'search_params_filter_mag': "‚ú® Filter: {}",
        'search_params_filter_mag_bortle': "Bortle {} (<= {:.1f} mag)",
        'search_params_filter_mag_manual': "Manuell ({:.1f}-{:.1f} mag)",
        'search_params_filter_alt_types': "üî≠ Filter: H√∂he {}-{}¬∞, Typen: {}",
        'search_params_filter_size': "üìê Filter: Gr√∂√üe {:.1f} - {:.1f} arcmin",
        'search_params_filter_direction': "üß≠ Filter: Himmelsrichtung bei Max: {}",
        'search_params_types_all': "Alle",
        'search_params_direction_all': "Alle",
        'spinner_searching': "Berechne Fenster & suche Objekte...",
        'spinner_geocoding': "Suche nach Standort...",
        'window_info_template': "Beobachtungsfenster: {} bis {} UTC (Astronomische D√§mmerung)",
        'window_already_passed': "Berechnetes Nachtfenster f√ºr 'Jetzt' ist bereits vorbei. Berechne f√ºr n√§chste Nacht.",
        'error_no_window': "Kein g√ºltiges astronomisches Dunkelheitsfenster f√ºr das gew√§hlte Datum und den Standort gefunden.",
        'error_polar_night': "Astronomische Dunkelheit dauert >24h an (Polarnacht?). Fallback-Fenster wird verwendet.",
        'error_polar_day': "Keine astronomische Dunkelheit tritt ein (Polartag?). Fallback-Fenster wird verwendet.",
        'success_objects_found': "{} passende Objekte gefunden.",
        'info_showing_list_duration': "Zeige {} Objekte, sortiert nach Sichtbarkeitsdauer und Kulminationsh√∂he:",
        'info_showing_list_magnitude': "Zeige {} Objekte, sortiert nach Helligkeit (hellstes zuerst):",
        'error_search_unexpected': "Ein unerwarteter Fehler ist w√§hrend der Suche aufgetreten:",
        'results_list_header': "Ergebnisliste",
        'results_export_name': "Name",
        'results_export_type': "Typ",
        'results_export_constellation': "Sternbild",
        'results_export_mag': "Magnitude",
        'results_export_size': "Gr√∂√üe (arcmin)",
        'results_export_ra': "RA",
        'results_export_dec': "Dec",
        'results_export_max_alt': "Max H√∂he (¬∞)",
        'results_export_az_at_max': "Azimut bei Max (¬∞)",
        'results_export_direction_at_max': "Richtung bei Max",
        'results_export_time_max_utc': "Zeit bei Max (UTC)",
        'results_export_time_max_local': "Zeit bei Max (Lokale TZ)",
        'results_export_cont_duration': "Max Kont Dauer (h)",
        'results_expander_title': "{} ({}) - Mag: {:.1f}",
        'google_link_text': "Google",
        'simbad_link_text': "SIMBAD",
        'results_coords_header': "**Details:**",
        'results_constellation_label': "Sternbild:",
        'results_size_label': "Gr√∂√üe (Hauptachse):",
        'results_size_value': "{:.1f} arcmin",
        'results_max_alt_header': "**Max. H√∂he:**",
        'results_azimuth_label': "(Azimut: {:.1f}¬∞{})",
        'results_direction_label': ", Richtung: {}",
        'results_best_time_header': "**Beste Zeit (Lokale TZ):**",
        'results_cont_duration_header': "**Max. Kont. Dauer:**",
        'results_duration_value': "{:.1f} Stunden",
        'graph_type_label': "Grafiktyp (f√ºr alle Grafiken):",
        'graph_type_sky_path': "Himmelsbahn (Az/Alt)",
        'graph_type_alt_time': "H√∂henverlauf (Alt/Zeit)",
        'results_graph_button': "üìà Grafik anzeigen",
        'results_spinner_plotting': "Erstelle Grafik...",
        'results_graph_error': "Grafik Fehler: {}",
        'results_graph_not_created': "Grafik konnte nicht erstellt werden.",
        'results_close_graph_button': "Grafik schliessen",
        'results_save_csv_button': "üíæ Ergebnisliste als CSV speichern",
        'results_csv_filename': "dso_beobachtungsliste_{}.csv",
        'results_csv_export_error': "CSV Export Fehler: {}",
        'warning_no_objects_found': "Keine Objekte gefunden, die allen Kriterien f√ºr das berechnete Beobachtungsfenster entsprechen.",
        'info_initial_prompt': "Willkommen! Bitte **Koordinaten eingeben** oder **Ort suchen**, um die Objektsuche zu aktivieren.",
        'graph_altitude_label': "H√∂he (¬∞)",
        'graph_azimuth_label': "Azimut (¬∞)",
        'graph_min_altitude_label': "Mindesth√∂he ({:.0f}¬∞)",
        'graph_max_altitude_label': "Maximalh√∂he ({:.0f}¬∞)",
        'graph_title_sky_path': "Himmelsbahn f√ºr {}",
        'graph_title_alt_time': "H√∂henverlauf f√ºr {}",
        'graph_ylabel': "H√∂he (¬∞)",
        'custom_target_expander': "Eigenes Ziel grafisch darstellen",
        'custom_target_ra_label': "Rektaszension (RA):",
        'custom_target_dec_label': "Deklination (Dec):",
        'custom_target_name_label': "Ziel-Name (Optional):",
        'custom_target_ra_placeholder': "z.B. 10:45:03.6 oder 161.265",
        'custom_target_dec_placeholder': "z.B. -16:42:58 oder -16.716",
        'custom_target_button': "Eigene Grafik erstellen",
        'custom_target_error_coords': "Ung√ºltiges RA/Dec Format. Verwende HH:MM:SS.s / DD:MM:SS oder Dezimalgrad.",
        'custom_target_error_window': "Grafik kann nicht erstellt werden. Stelle sicher, dass Ort und Zeitfenster g√ºltig sind (ggf. zuerst 'Beobachtbare Objekte finden' klicken).",
        'error_processing_object': "Fehler bei der Verarbeitung von {}: {}",
        'window_calc_error': "Fehler bei der Berechnung des Beobachtungsfensters: {}\n{}",
        'window_fallback_info': "\nFallback-Fenster wird verwendet: {} bis {} UTC",
        'error_loading_catalog': "Fehler beim Laden der Katalogdatei: {}",
        'info_catalog_loaded': "Katalog geladen: {} Objekte.",
        'warning_catalog_empty': "Katalogdatei geladen, aber keine passenden Objekte nach Filterung gefunden.",
        'donation_text': "Gef√§llt dir die App? [Unterst√ºtze die Entwicklung auf Ko-fi ‚òï](https://ko-fi.com/advanceddsofinder)",
        'bug_report_button': "üêû Fehler melden",
        'bug_report_body': "\n\n(Bitte beschreiben Sie den Fehler und die Schritte zur Reproduktion)"
        },
    'en': { # Start Zeile 234 <-- ACHTE HIER AUF SYNTAX!
        # --- Englische √úbersetzungen ---
        'settings_header': "Settings",
        'language_select_label': "Language",
        'location_expander': "üìç Location",
        'location_select_label': "Select Location Method",
        'location_option_manual': "Enter Manually",
        'location_option_search': "Search by Name",
        'location_search_label': "Enter location name:",
        'location_search_submit_button': "Find Coordinates",
        'location_search_placeholder': "e.g., London, UK",
        'location_search_found': "Found (Nominatim): {}",
        'location_search_found_fallback': "Found via Fallback (ArcGIS): {}",
        'location_search_found_fallback2': "Found via 2nd Fallback (Photon): {}",
        'location_search_coords': "Lat: {:.4f}, Lon: {:.4f}",
        'location_search_error_not_found': "Location not found.",
        'location_search_error_service': "Geocoding service error: {}",
        'location_search_error_timeout': "Geocoding service timed out.",
        'location_search_error_refused': "Geocoding connection refused.",
        'location_search_info_fallback': "Nominatim failed, trying fallback service (ArcGIS)...",
        'location_search_info_fallback2': "ArcGIS failed, trying 2nd fallback service (Photon)...",
        'location_search_error_fallback_failed': "Primary (Nominatim) and fallback (ArcGIS) failed: {}",
        'location_search_error_fallback2_failed': "All geocoding services (Nominatim, ArcGIS, Photon) failed: {}",
        'location_lat_label': "Latitude (¬∞N)",
        'location_lon_label': "Longitude (¬∞E)",
        'location_elev_label': "Elevation (meters)",
        'location_manual_display': "Manual ({:.4f}, {:.4f})",
        'location_search_display': "Searched: {} ({:.4f}, {:.4f})",
        'location_error': "Location Error: {}",
        'location_error_fallback': "ERROR - Fallback used",
        'location_error_manual_none': "Manual location fields cannot be empty or invalid.",
        'time_expander': "‚è±Ô∏è Time & Timezone",
        'time_select_label': "Select Time",
        'time_option_now': "Now (Upcoming Night)",
        'time_option_specific': "Specific Night",
        'time_date_select_label': "Select Date:",
        'timezone_auto_set_label': "Detected Timezone:",
        'timezone_auto_fail_label': "Timezone:",
        'timezone_auto_fail_msg': "Could not detect timezone, using UTC.",
        'filters_expander': "‚ú® Filters & Conditions",
        'mag_filter_header': "**Magnitude Filter**",
        'mag_filter_method_label': "Filter Method:",
        'mag_filter_option_bortle': "Bortle Scale",
        'mag_filter_option_manual': "Manual",
        'mag_filter_bortle_label': "Bortle Scale:",
        'mag_filter_bortle_help': "Sky darkness: 1=Excellent Dark, 9=Inner-city Sky",
        'mag_filter_min_mag_label': "Min. Magnitude:",
        'mag_filter_min_mag_help': "Brightest object magnitude to include",
        'mag_filter_max_mag_label': "Max. Magnitude:",
        'mag_filter_max_mag_help': "Dimest object magnitude to include",
        'mag_filter_warning_min_max': "Min. Magnitude is greater than Max. Magnitude!",
        'min_alt_header': "**Object Altitude Above Horizon**",
        'min_alt_label': "Min. Object Altitude (¬∞):",
        'max_alt_label': "Max. Object Altitude (¬∞):",
        'moon_warning_header': "**Moon Warning**",
        'moon_warning_label': "Warn if Moon > (% Illumination):",
        'object_types_header': "**Object Types**",
        'object_types_error_extract': "Could not extract object types from catalog.",
        'object_types_label': "Filter Types (leave empty for all):",
        'size_filter_header': "**Angular Size Filter**",
        'size_filter_label': "Object Size (arcminutes):",
        'size_filter_help': "Filter objects by their apparent size (major axis). 1 arcminute = 1/60 degree.",
        'direction_filter_header': "**Filter by Cardinal Direction**",
        'direction_filter_label': "Show objects culminating towards:",
        'direction_option_all': "All",
        'object_type_glossary_title': "Object Type Glossary",
        'object_type_glossary': {
            "OCl": "Open Cluster", "GCl": "Globular Cluster", "Cl+N": "Cluster + Nebula",
            "Gal": "Galaxy", "PN": "Planetary Nebula", "SNR": "Supernova Remnant",
            "Neb": "Nebula (general)", "EmN": "Emission Nebula", "RfN": "Reflection Nebula",
            "HII": "HII Region", "AGN": "Active Galactic Nucleus"
        },
        'results_options_expander': "‚öôÔ∏è Result Options",
        'results_options_max_objects_label': "Max. Number of Objects to Display:",
        'results_options_sort_method_label': "Sort Results By:",
        'results_options_sort_duration': "Duration & Altitude",
        'results_options_sort_magnitude': "Brightness",
        'moon_metric_label': "Moon Illumination (approx.)",
        'moon_warning_message': "Warning: Moon is brighter ({:.0f}%) than threshold ({:.0f}%)!",
        'moon_phase_error': "Error calculating moon phase: {}",
        'find_button_label': "üî≠ Find Observable Objects",
        'search_params_header': "Search Parameters",
        'search_params_location': "üìç Location: {}",
        'search_params_time': "‚è±Ô∏è Time: {}",
        'search_params_timezone': "üåç Timezone: {}",
        'search_params_time_now': "Upcoming Night (from {} UTC)",
        'search_params_time_specific': "Night after {}",
        'search_params_filter_mag': "‚ú® Filter: {}",
        'search_params_filter_mag_bortle': "Bortle {} (<= {:.1f} mag)",
        'search_params_filter_mag_manual': "Manual ({:.1f}-{:.1f} mag)",
        'search_params_filter_alt_types': "üî≠ Filter: Alt {}-{}¬∞, Types: {}",
        'search_params_filter_size': "üìê Filter: Size {:.1f} - {:.1f} arcmin",
        'search_params_filter_direction': "üß≠ Filter: Direction at Max: {}",
        'search_params_types_all': "All",
        'search_params_direction_all': "All",
        'spinner_searching': "Calculating window & searching objects...",
        'spinner_geocoding': "Searching for location...",
        'window_info_template': "Observation window: {} to {} UTC (Astronomical Twilight)",
        'window_already_passed': "Calculated night window for 'Now' has already passed. Calculating for next night.",
        'error_no_window': "No valid astronomical darkness window found for the selected date and location.",
        'error_polar_night': "Astronomical darkness lasts >24h (Polar night?). Using fallback window.",
        'error_polar_day': "No astronomical darkness occurs (Polar day?). Using fallback window.",
        'success_objects_found': "{} matching objects found.",
        'info_showing_list_duration': "Showing {} objects, sorted by visibility duration and culmination altitude:",
        'info_showing_list_magnitude': "Showing {} objects, sorted by brightness (brightest first):",
        'error_search_unexpected': "An unexpected error occurred during the search:",
        'results_list_header': "Result List",
        'results_export_name': "Name",
        'results_export_type': "Type",
        'results_export_constellation': "Constellation",
        'results_export_mag': "Magnitude",
        'results_export_size': "Size (arcmin)",
        'results_export_ra': "RA",
        'results_export_dec': "Dec",
        'results_export_max_alt': "Max Altitude (¬∞)",
        'results_export_az_at_max': "Azimuth at Max (¬∞)",
        'results_export_direction_at_max': "Direction at Max",
        'results_export_time_max_utc': "Time at Max (UTC)",
        'results_export_time_max_local': "Time at Max (Local TZ)",
        'results_export_cont_duration': "Max Cont Duration (h)",
        'results_expander_title': "{} ({}) - Mag: {:.1f}",
        'google_link_text': "Google",
        'simbad_link_text': "SIMBAD",
        'results_coords_header': "**Details:**",
        'results_constellation_label': "Constellation:",
        'results_size_label': "Size (Major Axis):",
        'results_size_value': "{:.1f} arcmin",
        'results_max_alt_header': "**Max. Altitude:**",
        'results_azimuth_label': "(Azimuth: {:.1f}¬∞{})",
        'results_direction_label': ", Direction: {}",
        'results_best_time_header': "**Best Time (Local TZ):**",
        'results_cont_duration_header': "**Max. Cont. Duration:**",
        'results_duration_value': "{:.1f} hours",
        'graph_type_label': "Graph Type (for all plots):",
        'graph_type_sky_path': "Sky Path (Az/Alt)",
        'graph_type_alt_time': "Altitude Plot (Alt/Time)",
        'results_graph_button': "üìà Show Plot",
        'results_spinner_plotting': "Creating plot...",
        'results_graph_error': "Plot Error: {}",
        'results_graph_not_created': "Plot could not be created.",
        'results_close_graph_button': "Close Plot",
        'results_save_csv_button': "üíæ Save Result List as CSV",
        'results_csv_filename': "dso_observation_list_{}.csv",
        'results_csv_export_error': "CSV Export Error: {}",
        'warning_no_objects_found': "No objects found matching all criteria for the calculated observation window.",
        'info_initial_prompt': "Welcome! Please **Enter Coordinates** or **Search Location** to enable object search.",
        'graph_altitude_label': "Altitude (¬∞)",
        'graph_azimuth_label': "Azimuth (¬∞)",
        'graph_min_altitude_label': "Min Altitude ({:.0f}¬∞)",
        'graph_max_altitude_label': "Max Altitude ({:.0f}¬∞)",
        'graph_title_sky_path': "Sky Path for {}",
        'graph_title_alt_time': "Altitude Plot for {}",
        'graph_ylabel': "Altitude (¬∞)",
        'custom_target_expander': "Plot Custom Target",
        'custom_target_ra_label': "Right Ascension (RA):",
        'custom_target_dec_label': "Declination (Dec):",
        'custom_target_name_label': "Target Name (Optional):",
        'custom_target_ra_placeholder': "e.g., 10:45:03.6 or 161.265",
        'custom_target_dec_placeholder': "e.g., -16:42:58 or -16.716",
        'custom_target_button': "Create Custom Plot",
        'custom_target_error_coords': "Invalid RA/Dec format. Use HH:MM:SS.s / DD:MM:SS or decimal degrees.",
        'custom_target_error_window': "Cannot create plot. Ensure location and time window are valid (try clicking 'Find Observable Objects' first).",
        'error_processing_object': "Error processing {}: {}",
        'window_calc_error': "Error calculating observation window: {}\n{}",
        'window_fallback_info': "\nUsing fallback window: {} to {} UTC",
        'error_loading_catalog': "Error loading catalog file: {}",
        'warning_catalog_empty': "Catalog file loaded, but no matching objects found after filtering.",
        'donation_text': "Like the app? [Support the development on Ko-fi ‚òï](https://ko-fi.com/advanceddsofinder)",
        'bug_report_button': "üêû Report Bug",
        'bug_report_body': "\n\n(Please describe the bug and the steps to reproduce it)"
    },
    'fr': {
        # ... (Franz√∂sischer Block - unver√§ndert) ...
        'settings_header': "Param√®tres",
        'language_select_label': "Langue",
        'location_expander': "üìç Emplacement",
        'location_select_label': "Choisir la m√©thode d'emplacement",
        'location_option_manual': "Saisir manuellement",
        'location_option_search': "Rechercher par nom",
        'location_search_label': "Entrer le nom du lieu :",
        'location_search_submit_button': "Trouver les coordonn√©es",
        'location_search_placeholder': "p.ex. Paris, France",
        'location_search_found': "Trouv√© (Nominatim) : {}",
        'location_search_found_fallback': "Trouv√© via fallback (ArcGIS) : {}",
        'location_search_found_fallback2': "Trouv√© via 2e fallback (Photon) : {}",
        'location_search_coords': "Lat : {:.4f}, Lon : {:.4f}",
        'location_search_error_not_found': "Lieu non trouv√©.",
        'location_search_error_service': "Erreur du service de g√©ocodage : {}",
        'location_search_error_timeout': "D√©lai d'attente du service de g√©ocodage d√©pass√©.",
        'location_search_error_refused': "Connexion de g√©ocodage refus√©e.",
        'location_search_info_fallback': "√âchec de Nominatim, tentative de service de secours (ArcGIS)...",
        'location_search_info_fallback2': "√âchec d'ArcGIS, tentative de 2e service de secours (Photon)...",
        'location_search_error_fallback_failed': "√âchec du service primaire (Nominatim) et de secours (ArcGIS) : {}",
        'location_search_error_fallback2_failed': "√âchec de tous les services de g√©ocodage (Nominatim, ArcGIS, Photon) : {}",
        'location_lat_label': "Latitude (¬∞N)",
        'location_lon_label': "Longitude (¬∞E)",
        'location_elev_label': "Altitude (m√®tres)",
        'location_manual_display': "Manuel ({:.4f}, {:.4f})",
        'location_search_display': "Recherch√© : {} ({:.4f}, {:.4f})",
        'location_error': "Erreur d'emplacement : {}",
        'location_error_fallback': "ERREUR - Utilisation du fallback",
        'location_error_manual_none': "Les champs d'emplacement manuel ne peuvent pas √™tre vides ou invalides.",
        'time_expander': "‚è±Ô∏è Heure & Fuseau horaire",
        'time_select_label': "Choisir l'heure",
        'time_option_now': "Maintenant (nuit prochaine)",
        'time_option_specific': "Nuit sp√©cifique",
        'time_date_select_label': "Choisir la date :",
        'timezone_auto_set_label': "Fuseau horaire d√©tect√© :",
        'timezone_auto_fail_label': "Fuseau horaire :",
        'timezone_auto_fail_msg': "Impossible de d√©tecter le fuseau horaire, UTC est utilis√©.",
        'filters_expander': "‚ú® Filtres & Conditions",
        'mag_filter_header': "**Filtre de Magnitude**",
        'mag_filter_method_label': "M√©thode de filtrage :",
        'mag_filter_option_bortle': "√âchelle de Bortle",
        'mag_filter_option_manual': "Manuel",
        'mag_filter_bortle_label': "√âchelle de Bortle :",
        'mag_filter_bortle_help': "Obscurit√© du ciel : 1=Excellent ciel noir, 9=Ciel de centre-ville",
        'mag_filter_min_mag_label': "Magnitude Min. :",
        'mag_filter_min_mag_help': "Magnitude de l'objet le plus brillant √† inclure",
        'mag_filter_max_mag_label': "Magnitude Max. :",
        'mag_filter_max_mag_help': "Magnitude de l'objet le plus faible √† inclure",
        'mag_filter_warning_min_max': "Magnitude Min. est sup√©rieure √† la Magnitude Max. !",
        'min_alt_header': "**Altitude de l'objet au-dessus de l'horizon**",
        'min_alt_label': "Altitude Min. de l'objet (¬∞) :",
        'max_alt_label': "Altitude Max. de l'objet (¬∞) :",
        'moon_warning_header': "**Avertissement Lunaire**",
        'moon_warning_label': "Avertir si Lune > (% Illumination) :",
        'object_types_header': "**Types d'objets**",
        'object_types_error_extract': "Impossible d'extraire les types d'objets du catalogue.",
        'object_types_label': "Filtrer les types (laisser vide pour tous) :",
        'size_filter_header': "**Filtre de Taille Angulaire**",
        'size_filter_label': "Taille de l'objet (minutes d'arc) :",
        'size_filter_help': "Filtrer les objets par leur taille apparente (axe majeur). 1 minute d'arc = 1/60 degr√©.",
        'direction_filter_header': "**Filtre par Direction Cardinale**",
        'direction_filter_label': "Afficher les objets culminant vers :",
        'direction_option_all': "Toutes",
        'object_type_glossary_title': "Glossaire des types d'objets",
        'object_type_glossary': {
            "OCl": "Amas Ouvert", "GCl": "Amas Globulaire", "Cl+N": "Amas + N√©buleuse",
            "Gal": "Galaxie", "PN": "N√©buleuse Plan√©taire", "SNR": "R√©manent de Supernova",
            "Neb": "N√©buleuse (g√©n√©ral)", "EmN": "N√©buleuse en √âmission", "RfN": "N√©buleuse par R√©flexion",
            "HII": "R√©gion HII", "AGN": "Noyau Actif de Galaxie"
        },
        'results_options_expander': "‚öôÔ∏è Options de R√©sultats",
        'results_options_max_objects_label': "Nombre max. d'objets √† afficher :",
        'results_options_sort_method_label': "Trier les r√©sultats par :",
        'results_options_sort_duration': "Dur√©e & Altitude",
        'results_options_sort_magnitude': "Luminosit√©",
        'moon_metric_label': "Illumination lunaire (env.)",
        'moon_warning_message': "Attention : La Lune est plus brillante ({:.0f}%) que le seuil ({:.0f}%) !",
        'moon_phase_error': "Erreur lors du calcul de la phase lunaire : {}",
        'find_button_label': "üî≠ Trouver les objets observables",
        'search_params_header': "Param√®tres de recherche",
        'search_params_location': "üìç Emplacement : {}",
        'search_params_time': "‚è±Ô∏è Heure : {}",
        'search_params_timezone': "üåç Fuseau horaire : {}",
        'search_params_time_now': "Nuit prochaine (√† partir de {} UTC)",
        'search_params_time_specific': "Nuit apr√®s {}",
        'search_params_filter_mag': "‚ú® Filtre : {}",
        'search_params_filter_mag_bortle': "Bortle {} (<= {:.1f} mag)",
        'search_params_filter_mag_manual': "Manuel ({:.1f}-{:.1f} mag)",
        'search_params_filter_alt_types': "üî≠ Filtre : Alt {}-{}¬∞, Types : {}",
        'search_params_filter_size': "üìê Filtre : Taille {:.1f} - {:.1f} arcmin",
        'search_params_filter_direction': "üß≠ Filtre : Direction √† l'apog√©e : {}",
        'search_params_types_all': "Tous",
        'search_params_direction_all': "Toutes",
        'spinner_searching': "Calcul de la fen√™tre & recherche d'objets...",
        'spinner_geocoding': "Recherche de l'emplacement...",
        'window_info_template': "Fen√™tre d'observation : {} √† {} UTC (Cr√©puscule Astronomique)",
        'window_already_passed': "La fen√™tre nocturne calcul√©e pour 'Maintenant' est d√©j√† pass√©e. Calcul pour la nuit suivante.",
        'error_no_window': "Aucune fen√™tre de noirceur astronomique valide trouv√©e pour la date et l'emplacement s√©lectionn√©s.",
        'error_polar_night': "La noirceur astronomique dure >24h (Nuit polaire ?). Fen√™tre de secours utilis√©e.",
        'error_polar_day': "Aucune noirceur astronomique ne se produit (Jour polaire ?). Fen√™tre de secours utilis√©e.",
        'success_objects_found': "{} objets correspondants trouv√©s.",
        'info_showing_list_duration': "Affichage de {} objets, tri√©s par dur√©e de visibilit√© et altitude de culmination :",
        'info_showing_list_magnitude': "Affichage de {} objets, tri√©s par luminosit√© (le plus brillant en premier) :",
        'error_search_unexpected': "Une erreur inattendue s'est produite lors de la recherche :",
        'results_list_header': "Liste des r√©sultats",
        'results_export_name': "Nom",
        'results_export_type': "Type",
        'results_export_constellation': "Constellation",
        'results_export_mag': "Magnitude",
        'results_export_size': "Taille (arcmin)",
        'results_export_ra': "AD",
        'results_export_dec': "Dec",
        'results_export_max_alt': "Altitude Max (¬∞)",
        'results_export_az_at_max': "Azimut √† l'apog√©e (¬∞)",
        'results_export_direction_at_max': "Direction √† l'apog√©e",
        'results_export_time_max_utc': "Heure √† l'apog√©e (UTC)",
        'results_export_time_max_local': "Heure √† l'apog√©e (Fuseau local)",
        'results_export_cont_duration': "Dur√©e cont. max (h)",
        'results_expander_title': "{} ({}) - Mag : {:.1f}",
        'google_link_text': "Google",
        'simbad_link_text': "SIMBAD",
        'results_coords_header': "**D√©tails :**",
        'results_constellation_label': "Constellation :",
        'results_size_label': "Taille (axe majeur) :",
        'results_size_value': "{:.1f} arcmin",
        'results_max_alt_header': "**Altitude Max. :**",
        'results_azimuth_label': "(Azimut : {:.1f}¬∞{})",
        'results_direction_label': ", Direction : {}",
        'results_best_time_header': "**Meilleure heure (Fuseau local) :**",
        'results_cont_duration_header': "**Dur√©e cont. max :**",
        'results_duration_value': "{:.1f} heures",
        'graph_type_label': "Type de graphique (pour tous) :",
        'graph_type_sky_path': "Trajectoire c√©leste (Az/Alt)",
        'graph_type_alt_time': "Courbe d'altitude (Alt/Temps)",
        'results_graph_button': "üìà Afficher le graphique",
        'results_spinner_plotting': "Cr√©ation du graphique...",
        'results_graph_error': "Erreur de graphique : {}",
        'results_graph_not_created': "Le graphique n'a pas pu √™tre cr√©√©.",
        'results_close_graph_button': "Fermer le graphique",
        'results_save_csv_button': "üíæ Enregistrer la liste en CSV",
        'results_csv_filename': "liste_observation_dso_{}.csv",
        'results_csv_export_error': "Erreur d'exportation CSV : {}",
        'warning_no_objects_found': "Aucun objet trouv√© correspondant √† tous les crit√®res pour la fen√™tre d'observation calcul√©e.",
        'info_initial_prompt': "Bienvenue ! Veuillez **saisir les coordonn√©es** ou **rechercher un lieu** pour activer la recherche d'objets.",
        'graph_altitude_label': "Altitude (¬∞)",
        'graph_azimuth_label': "Azimut (¬∞)",
        'graph_min_altitude_label': "Altitude minimale ({:.0f}¬∞)",
        'graph_max_altitude_label': "Altitude maximale ({:.0f}¬∞)",
        'graph_title_sky_path': "Trajectoire c√©leste pour {}",
        'graph_title_alt_time': "Courbe d'altitude pour {}",
        'graph_ylabel': "Altitude (¬∞)",
        'custom_target_expander': "Tracer une cible personnalis√©e",
        'custom_target_ra_label': "Ascension droite (AD) :",
        'custom_target_dec_label': "D√©clinaison (Dec) :",
        'custom_target_name_label': "Nom de la cible (Optionnel) :",
        'custom_target_ra_placeholder': "p.ex. 10:45:03.6 ou 161.265",
        'custom_target_dec_placeholder': "p.ex. -16:42:58 ou -16.716",
        'custom_target_button': "Cr√©er un graphique personnalis√©",
        'custom_target_error_coords': "Format AD/Dec invalide. Utilisez HH:MM:SS.s / DD:MM:SS ou degr√©s d√©cimaux.",
        'custom_target_error_window': "Impossible de cr√©er le graphique. Assurez-vous que l'emplacement et la fen√™tre temporelle sont valides (essayez d'abord de cliquer sur 'Trouver les objets observables').",
        'error_processing_object': "Erreur lors du traitement de {}: {}",
        'window_calc_error': "Erreur lors du calcul de la fen√™tre d'observation : {}\n{}",
        'window_fallback_info': "\nFen√™tre de secours utilis√©e : {} √† {} UTC",
        'error_loading_catalog': "Erreur lors du chargement du fichier catalogue : {}",
        'warning_catalog_empty': "Fichier catalogue charg√©, mais aucun objet correspondant trouv√© apr√®s filtrage.",
        'donation_text': "Vous aimez l'application ? [Soutenez le d√©veloppement sur Ko-fi ‚òï](https://ko-fi.com/advanceddsofinder)",
        'bug_report_button': "üêû Signaler un bug",
        'bug_report_body': "\n\n(Veuillez d√©crire le bug et les √©tapes pour le reproduire)"
    },
}

DEFAULT_LANG = 'de' # Standardm√§√üig Deutsch

def get_translation(lang: str) -> dict:
    """
    Gibt das √úbersetzungs-Dictionary f√ºr die angegebene Sprache zur√ºck.
    F√§llt auf die Standardsprache zur√ºck, wenn die angegebene Sprache nicht existiert.

    Args:
        lang (str): Der Sprachcode (z.B. 'de', 'en', 'fr').

    Returns:
        dict: Das Dictionary mit den √úbersetzungen f√ºr die gew√§hlte Sprache.
    """
    # Stelle sicher, dass der Schl√ºssel existiert, bevor darauf zugegriffen wird.
    # Gib das Dictionary f√ºr die angeforderte Sprache zur√ºck oder das f√ºr die Standardsprache.
    return translations.get(lang, translations[DEFAULT_LANG])
